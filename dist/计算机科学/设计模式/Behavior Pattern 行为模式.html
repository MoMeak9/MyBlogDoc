<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.53" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://yihuiBlog.top/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html"><meta property="og:site_name" content="Yihui's Blog"><meta property="og:title" content="Behavior Pattern 行为模式"><meta property="og:description" content="文章内容整理自：https://refactoringguru.cn/ Visitor 访问者 访问者模式是一种行为设计模式， 它能将算法与其所作用的对象隔离开来。 The visitor pattern is a behavior design pattern that isolates an algorithm from the object it..."><meta property="og:type" content="article"><meta property="og:updated_time" content="2022-12-05T04:24:57.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:published_time" content="2021-12-03T00:00:00.000Z"><meta property="article:modified_time" content="2022-12-05T04:24:57.000Z"><script>
            var _hmt = _hmt || [];
            (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?43cbf856b430fee41af63fc72731d1d6";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
            })();</script><meta name="google-site-verification" content="9vkxYqOlDYYQz21WsvuXk9ztRIK5L0_MuzL1WvFmBuY"><title>Behavior Pattern 行为模式 | Yihui's Blog</title><meta name="description" content="文章内容整理自：https://refactoringguru.cn/ Visitor 访问者 访问者模式是一种行为设计模式， 它能将算法与其所作用的对象隔离开来。 The visitor pattern is a behavior design pattern that isolates an algorithm from the object it...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/assets/style.16607baa.css" as="style" /><link rel="stylesheet" href="/assets/style.16607baa.css" />
    <link rel="modulepreload" href="/assets/app.d7b34baa.js"><link rel="modulepreload" href="/assets/Behavior Pattern 行为模式.html.8a940045.js"><link rel="modulepreload" href="/assets/_plugin-vue_export-helper.cdc0426e.js"><link rel="modulepreload" href="/assets/Behavior Pattern 行为模式.html.fabcb6c7.js"><link rel="prefetch" href="/assets/index.html.00ea0db3.js" as="script" /><link rel="prefetch" href="/assets/个人简介.html.431428f4.js" as="script" /><link rel="prefetch" href="/assets/Astro 中启用服务器端渲染.html.7f00301f.js" as="script" /><link rel="prefetch" href="/assets/Vue集成.html.3d473118.js" as="script" /><link rel="prefetch" href="/assets/来了解一下 Island Architecture 孤岛架构.html.72c05c08.js" as="script" /><link rel="prefetch" href="/assets/CSS 父元素没有被子元素撑开问题.html.3517d50f.js" as="script" /><link rel="prefetch" href="/assets/CSS 自定义属性.html.89704ef8.js" as="script" /><link rel="prefetch" href="/assets/CSS进阶：逻辑组合伪类.html.06ff60e7.js" as="script" /><link rel="prefetch" href="/assets/Flex 布局.html.2fbb0d63.js" as="script" /><link rel="prefetch" href="/assets/Grid 布局.html.fde0f7de.js" as="script" /><link rel="prefetch" href="/assets/Less 知识点汇总.html.a65f0663.js" as="script" /><link rel="prefetch" href="/assets/Stylus 学习整合.html.f5ae040b.js" as="script" /><link rel="prefetch" href="/assets/Vue scoped属性的用途和工作原理.html.dcc282f9.js" as="script" /><link rel="prefetch" href="/assets/伪类与伪元素的区别.html.9871db8e.js" as="script" /><link rel="prefetch" href="/assets/逻辑组合伪类.html.44b25ec3.js" as="script" /><link rel="prefetch" href="/assets/button标签和div模拟按钮的区别.html.4728c3a6.js" as="script" /><link rel="prefetch" href="/assets/HTML 高频.html.89c0b5fc.js" as="script" /><link rel="prefetch" href="/assets/HTML知识点汇总.html.62fe165a.js" as="script" /><link rel="prefetch" href="/assets/axios、XHR、XML、AJAX和Fetch分不清怎么办？.html.6a0d7cc3.js" as="script" /><link rel="prefetch" href="/assets/ES 12 新特性.html.311eb40e.js" as="script" /><link rel="prefetch" href="/assets/ES5、6 指导规范.html.dcaf461d.js" as="script" /><link rel="prefetch" href="/assets/IIFE 立即执行函数表达式.html.8b4af804.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 如何跳出（终止）forEach 循环.html.d32b3040.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 获取用户操作系统信息及浏览器信息.html.fc22e005.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 进阶整合.html.dc3a5e21.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 错误处理指南.html.6fc7fc98.js" as="script" /><link rel="prefetch" href="/assets/JavaScript优雅写法及骚操作.html.bfbad305.js" as="script" /><link rel="prefetch" href="/assets/js中__与___的区别.html.7b1c3c37.js" as="script" /><link rel="prefetch" href="/assets/JS垃圾回收机制.html.892ef359.js" as="script" /><link rel="prefetch" href="/assets/LocalStorage、sessionStorage 封装 - 基于TypeScript.html.a9c1f19c.js" as="script" /><link rel="prefetch" href="/assets/PromiseA 集合.html.f1790ef1.js" as="script" /><link rel="prefetch" href="/assets/Property原型链与原型链.html.f6f41c17.js" as="script" /><link rel="prefetch" href="/assets/Set，Map 和 Array的区别.html.9391bec3.js" as="script" /><link rel="prefetch" href="/assets/为什么每个人都在谈论同构JavaScript 以及为什么它很重要.html.d1693cd2.js" as="script" /><link rel="prefetch" href="/assets/事件循环是如何影响页面渲染的？.html.31d2a489.js" as="script" /><link rel="prefetch" href="/assets/前端模块：CJS_ AMD_ UMD_ ESM_ System 和 IIFE.html.24373d94.js" as="script" /><link rel="prefetch" href="/assets/如何使用Performance API 来衡量应用性能？.html.9432da6d.js" as="script" /><link rel="prefetch" href="/assets/怎么总有人混淆Service Worker 和 Web Worker？.html.fb2810a0.js" as="script" /><link rel="prefetch" href="/assets/来认识一下实用的、好用的：URL API.html.f854727a.js" as="script" /><link rel="prefetch" href="/assets/正则表达式卷起来！.html.1d55a30c.js" as="script" /><link rel="prefetch" href="/assets/深入解析call、apply、bind.html.1b26d1f1.js" as="script" /><link rel="prefetch" href="/assets/玩转一行代码KO问题.html.49faedeb.js" as="script" /><link rel="prefetch" href="/assets/页面生命周期：DOMContentLoaded_ load_ beforeunload_ unload.html.6965a384.js" as="script" /><link rel="prefetch" href="/assets/CJS 和 ES Module 横向对比.html.f02aedcc.js" as="script" /><link rel="prefetch" href="/assets/CORS 跨域及其 Nodejs 服务端配置实践.html.e9bec47d.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（1）内核引擎.html.b950061c.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（2）模块化.html.4cafa803.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（3）Node常用内置模块.html.d663c35f.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（4）包管理工具.html.174fbe09.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（5）开发脚手架工具.html.26086caf.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（6）Stream.html.aab44875.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（7）Buffer的使用.html.46c3bd47.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（8）Http模块.html.a9778226.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（9）深入事件循环.html.e961321a.js" as="script" /><link rel="prefetch" href="/assets/Node.js 进程通信.html.0b6f6e18.js" as="script" /><link rel="prefetch" href="/assets/npm包打补丁 — patch-package.html.38327f26.js" as="script" /><link rel="prefetch" href="/assets/为什么是 pnpm？我们为何使用monorepo？.html.aec002f9.js" as="script" /><link rel="prefetch" href="/assets/使用Node.js 实现网络代理（无框架，通过http-proxy）.html.748c9b6c.js" as="script" /><link rel="prefetch" href="/assets/横向对比 CJS 和 ES Module.html.72a8f798.js" as="script" /><link rel="prefetch" href="/assets/Mobx 教程.html.f1363661.js" as="script" /><link rel="prefetch" href="/assets/React 中使用 TypeScript.html.f16bf5eb.js" as="script" /><link rel="prefetch" href="/assets/React 项目优化.html.a734c928.js" as="script" /><link rel="prefetch" href="/assets/ReactHooks汇总.html.be55830c.js" as="script" /><link rel="prefetch" href="/assets/ReactRouter V6 解析.html.f38ed2cc.js" as="script" /><link rel="prefetch" href="/assets/React基础.html.0d2d748c.js" as="script" /><link rel="prefetch" href="/assets/useReducer：类Redux的useState替代方案.html.5e40ec93.js" as="script" /><link rel="prefetch" href="/assets/容器内选择单一列表并进行高亮切换的实践.html.0cd90fc0.js" as="script" /><link rel="prefetch" href="/assets/执行和清除Effect的时机.html.2f482487.js" as="script" /><link rel="prefetch" href="/assets/高级 React 组件组合.html.d965d173.js" as="script" /><link rel="prefetch" href="/assets/Webpack  插件开发实践.html.16af2bd4.js" as="script" /><link rel="prefetch" href="/assets/Webpack Loader 实践.html.7fbbb443.js" as="script" /><link rel="prefetch" href="/assets/Webpack 图像处理.html.114f1d36.js" as="script" /><link rel="prefetch" href="/assets/Webpack 学习指北.html.25a1efce.js" as="script" /><link rel="prefetch" href="/assets/Webpack 工作流程.html.8cebe7cd.js" as="script" /><link rel="prefetch" href="/assets/Webpack 性能优化.html.cbf8c6d3.js" as="script" /><link rel="prefetch" href="/assets/Webpack 配置及规则.html.8795c658.js" as="script" /><link rel="prefetch" href="/assets/Webpack 链式调用模型.html.ec2ca199.js" as="script" /><link rel="prefetch" href="/assets/TS 装饰器使用一览.html.9656ca47.js" as="script" /><link rel="prefetch" href="/assets/TS中的内置条件类型：ReturnType.html.8bcbde30.js" as="script" /><link rel="prefetch" href="/assets/TypeScript 笔记.html.a65460d2.js" as="script" /><link rel="prefetch" href="/assets/「重学TS 2.0 」TS 练习题1-10.html.ec67b2a2.js" as="script" /><link rel="prefetch" href="/assets/函数泛型.html.3a923265.js" as="script" /><link rel="prefetch" href="/assets/工具类型.html.65f82f74.js" as="script" /><link rel="prefetch" href="/assets/Pinia 学习笔记.html.f081ee9d.js" as="script" /><link rel="prefetch" href="/assets/Vite 学习和浅析.html.b222ff36.js" as="script" /><link rel="prefetch" href="/assets/Vue 3项目中的性能优化.html.21912ea2.js" as="script" /><link rel="prefetch" href="/assets/Vue keep-alive 笔记.html.3dd22f43.js" as="script" /><link rel="prefetch" href="/assets/Vue Router 浅析.html.2c1f4b84.js" as="script" /><link rel="prefetch" href="/assets/Vue 自定义钩子如何访问生命周期.html.ff4836ca.js" as="script" /><link rel="prefetch" href="/assets/Vue 进阶使用.html.c92fd73e.js" as="script" /><link rel="prefetch" href="/assets/Vue.set()和this._set().html.a5cb6ba1.js" as="script" /><link rel="prefetch" href="/assets/VueBus 总线传参数.html.0f9dd0c8.js" as="script" /><link rel="prefetch" href="/assets/Vuex 基础与进阶使用.html.0898de94.js" as="script" /><link rel="prefetch" href="/assets/Vue项目常用库.html.c411fcc3.js" as="script" /><link rel="prefetch" href="/assets/__nextTick_深入探究.html.b375d4cc.js" as="script" /><link rel="prefetch" href="/assets/前端路由 hash 与 history 差异.html.7eb3da67.js" as="script" /><link rel="prefetch" href="/assets/BFF 模式 （Backend For Frontend）.html.3da8a2de.js" as="script" /><link rel="prefetch" href="/assets/CommitMessage的Git格式规范.html.013785ee.js" as="script" /><link rel="prefetch" href="/assets/CORS.html.280376fa.js" as="script" /><link rel="prefetch" href="/assets/Google 核心 Web 指标.html.db77292d.js" as="script" /><link rel="prefetch" href="/assets/RPC 笔记.html.7f4b8bdb.js" as="script" /><link rel="prefetch" href="/assets/前端抓包.html.b3908026.js" as="script" /><link rel="prefetch" href="/assets/同构渲染：SSR (Server-Side Rendering) 与CSH (Client-Side Hydration).html.6ba8ad3d.js" as="script" /><link rel="prefetch" href="/assets/强缓存和协商缓存.html.642e5b6e.js" as="script" /><link rel="prefetch" href="/assets/MySQL从入门到入院.html.b6788cd2.js" as="script" /><link rel="prefetch" href="/assets/Redis 学习笔记.html.8d6f18ed.js" as="script" /><link rel="prefetch" href="/assets/高并发常见性能表现评估指标.html.b73a3c04.js" as="script" /><link rel="prefetch" href="/assets/Git 常用语句与命令行.html.913235d4.js" as="script" /><link rel="prefetch" href="/assets/Serverless 笔记.html.488fcd92.js" as="script" /><link rel="prefetch" href="/assets/UED、UCD、UE、UI、交互设计.html.75db50f9.js" as="script" /><link rel="prefetch" href="/assets/来了解一下 git fetch 与 git pull的区别.html.c69c63c2.js" as="script" /><link rel="prefetch" href="/assets/2022年中总结.html.3f6030db.js" as="script" /><link rel="prefetch" href="/assets/2022年终总结.html.508f6229.js" as="script" /><link rel="prefetch" href="/assets/offer，三方，两方，毁约 这些你需要知道的事.html.a3afee39.js" as="script" /><link rel="prefetch" href="/assets/校招日志 校招经验总结.html.3dc0cfa4.js" as="script" /><link rel="prefetch" href="/assets/知识大纲.html.14d903a7.js" as="script" /><link rel="prefetch" href="/assets/Axios 源码探秘.html.0dd3224e.js" as="script" /><link rel="prefetch" href="/assets/使用TS封装给大家用的Axios.html.4befe7f2.js" as="script" /><link rel="prefetch" href="/assets/L1 浏览器基础.html.5ae11ab3.js" as="script" /><link rel="prefetch" href="/assets/L10 作用域链和闭包：代码中出现相同的变量，JavaScript引擎如何选择.html.943d528d.js" as="script" /><link rel="prefetch" href="/assets/L11 this：从JavaScript执行上下文视角讲this.html.c54f5179.js" as="script" /><link rel="prefetch" href="/assets/L12 栈空间和堆空间：数据是如何存储的.html.63295a71.js" as="script" /><link rel="prefetch" href="/assets/L13 垃圾回收：垃圾数据如何自动回收.html.795ecf05.js" as="script" /><link rel="prefetch" href="/assets/L14 编译器和解析器：V8如何执行一段JavaScript代码的.html.9217900e.js" as="script" /><link rel="prefetch" href="/assets/L15 消息队列和事件循环：页面是怎么活起来的.html.c0eab8b1.js" as="script" /><link rel="prefetch" href="/assets/L16 WebAPI：setTimeout是怎么实现的.html.674162f2.js" as="script" /><link rel="prefetch" href="/assets/L17 WebAPI：XMLHttpRequest是怎么实现的.html.6b2b48b0.js" as="script" /><link rel="prefetch" href="/assets/L18 宏任务和微任务：不是所有的任务都是一个待遇.html.f19e5ac5.js" as="script" /><link rel="prefetch" href="/assets/L19 使用Promise告别回调函数.html.7c86614b.js" as="script" /><link rel="prefetch" href="/assets/L2 UDP和TCP.html.515b7411.js" as="script" /><link rel="prefetch" href="/assets/L20 async await使用同步方式写异步代码.html.0daded80.js" as="script" /><link rel="prefetch" href="/assets/L21 页面性能分析：利用Chrome做web性能分析.html.0f44bf18.js" as="script" /><link rel="prefetch" href="/assets/L22 DOM树：JavaScript是如何影响DOM树构建的.html.4a666c82.js" as="script" /><link rel="prefetch" href="/assets/L23 渲染流水线：CSS如何影响首次加载时的白屏时间？.html.9d9d2bca.js" as="script" /><link rel="prefetch" href="/assets/L24 分层和合成机制：为什么css动画比JavaScript高效.html.2687ab7a.js" as="script" /><link rel="prefetch" href="/assets/L25 页面性能：如何系统优化页面.html.6bb35e8f.js" as="script" /><link rel="prefetch" href="/assets/L26 虚拟DOM：虚拟DOM和实际DOM有何不同.html.1e8a781c.js" as="script" /><link rel="prefetch" href="/assets/L27 PWA：解决了web应用哪些问题.html.bd62ea47.js" as="script" /><link rel="prefetch" href="/assets/L28 Web Component：像搭积木一样构建web应用.html.da444ad8.js" as="script" /><link rel="prefetch" href="/assets/L29 HTTP1：HTTP性能优化.html.362d03e0.js" as="script" /><link rel="prefetch" href="/assets/L3 HTTP请求流程：为什么很多站点第二次打开速度会很快.html.8a6b0463.js" as="script" /><link rel="prefetch" href="/assets/L30 HTTP2：如何提升网络速度.html.6933f37f.js" as="script" /><link rel="prefetch" href="/assets/L31 HTTP3：甩掉TCP、TCL包袱 构建高效网络.html.a9d70cd2.js" as="script" /><link rel="prefetch" href="/assets/L32 同源策略：为什么XMLHttpRequst不能跨域请求资源.html.ccbd4177.js" as="script" /><link rel="prefetch" href="/assets/L33 跨站脚本攻击XSS：为什么cookie中有httpOnly属性.html.7e6d0f1d.js" as="script" /><link rel="prefetch" href="/assets/L34 CSRF攻击：陌生链接不要随便点.html.6e6682d1.js" as="script" /><link rel="prefetch" href="/assets/L35 沙盒：页面和系统之间的隔离墙.html.f04b1ea5.js" as="script" /><link rel="prefetch" href="/assets/L36 HTTPS：让数据传输更安全.html.68193549.js" as="script" /><link rel="prefetch" href="/assets/L4 从输入URL到页面展示这中间发生了什么？.html.324cc2e2.js" as="script" /><link rel="prefetch" href="/assets/L5 渲染流程（上）：HTML、CSS和JavaScript是如何变成页面的.html.ff37a8a7.js" as="script" /><link rel="prefetch" href="/assets/L6 渲染流程（下）：HTML、CSS和JavaScript是如何变成页面的.html.2420c62d.js" as="script" /><link rel="prefetch" href="/assets/L7 变量提升：JavaScript代码是按顺序执行的吗.html.b2768370.js" as="script" /><link rel="prefetch" href="/assets/L8 调用栈：为什么JavaScript代码会出现栈溢出.html.2f5befc0.js" as="script" /><link rel="prefetch" href="/assets/L9 块级作用域：var缺陷以及为什么要引入let和const.html.7625cf0f.js" as="script" /><link rel="prefetch" href="/assets/牛客网刷题1-10.html.8941b64e.js" as="script" /><link rel="prefetch" href="/assets/牛客网刷题11-20.html.8725fb48.js" as="script" /><link rel="prefetch" href="/assets/牛客网刷题21-30.html.9b425b49.js" as="script" /><link rel="prefetch" href="/assets/牛客网刷题31-40.html.37d7c798.js" as="script" /><link rel="prefetch" href="/assets/牛客网刷题41-50.html.bd9e2d60.js" as="script" /><link rel="prefetch" href="/assets/牛客网刷题51-60.html.5b3da2c9.js" as="script" /><link rel="prefetch" href="/assets/CDN 内容分发网络.html.832033fa.js" as="script" /><link rel="prefetch" href="/assets/Nginx：高性能的Web服务器.html.981fafd8.js" as="script" /><link rel="prefetch" href="/assets/OpenResty：更灵活的Web服务器.html.dc07ea72.js" as="script" /><link rel="prefetch" href="/assets/RESTful 下请求方法的幂等性.html.54cbcf12.js" as="script" /><link rel="prefetch" href="/assets/WAF 网络应用防火墙.html.afc339b7.js" as="script" /><link rel="prefetch" href="/assets/WebSocket.html.0a6ee654.js" as="script" /><link rel="prefetch" href="/assets/前端存储方案一览.html.1c883368.js" as="script" /><link rel="prefetch" href="/assets/浏览器缓存机制-缓存位置.html.a23dcb70.js" as="script" /><link rel="prefetch" href="/assets/浏览器缓存机制-请求头.html.4de84b7b.js" as="script" /><link rel="prefetch" href="/assets/LaTeX 数学公式语法手册.html.9567c53c.js" as="script" /><link rel="prefetch" href="/assets/PPT图文排版心得.html.6f765582.js" as="script" /><link rel="prefetch" href="/assets/前端学习目标.html.4bd4982f.js" as="script" /><link rel="prefetch" href="/assets/浏览器翻译.html.2fbdd03c.js" as="script" /><link rel="prefetch" href="/assets/程序员软技能.html.fd9924c4.js" as="script" /><link rel="prefetch" href="/assets/精选文章列表.html.a4962aac.js" as="script" /><link rel="prefetch" href="/assets/哔哩哔哩面经.html.754513d5.js" as="script" /><link rel="prefetch" href="/assets/快手面经.html.63a4a04e.js" as="script" /><link rel="prefetch" href="/assets/星网锐捷面经.html.04384220.js" as="script" /><link rel="prefetch" href="/assets/朴朴面经.html.b8e46b99.js" as="script" /><link rel="prefetch" href="/assets/美团面经.html.534c22a3.js" as="script" /><link rel="prefetch" href="/assets/Node.js 前端面试题.html.f1a7eb63.js" as="script" /><link rel="prefetch" href="/assets/share.html.4070eedc.js" as="script" /><link rel="prefetch" href="/assets/「算法与数据结构」梳理6大排序算法 为了offer.html.5f0e95ae.js" as="script" /><link rel="prefetch" href="/assets/前端工程师面试手册.html.962e0d6b.js" as="script" /><link rel="prefetch" href="/assets/前端面试十万字书籍总结.html.5e3ee91c.js" as="script" /><link rel="prefetch" href="/assets/计算机网络面试题.html.ad24de98.js" as="script" /><link rel="prefetch" href="/assets/Tailwind CSS 核心概念：功能类优先.html.c188c739.js" as="script" /><link rel="prefetch" href="/assets/CSS 面试题汇总.html.4af8fd24.js" as="script" /><link rel="prefetch" href="/assets/Leetcode 企业题库.html.37a80d5c.js" as="script" /><link rel="prefetch" href="/assets/字节跳动CodeTop（一）.html.92513d5d.js" as="script" /><link rel="prefetch" href="/assets/字节跳动CodeTop（三）.html.8e0478dc.js" as="script" /><link rel="prefetch" href="/assets/字节跳动CodeTop（二）.html.77e67aed.js" as="script" /><link rel="prefetch" href="/assets/快手CodeTop.html.94bdc076.js" as="script" /><link rel="prefetch" href="/assets/拼多多CodeTop.html.0c318d43.js" as="script" /><link rel="prefetch" href="/assets/美团CodeTop.html.5fc896a3.js" as="script" /><link rel="prefetch" href="/assets/腾讯 CodeTop.html.e9bc5e46.js" as="script" /><link rel="prefetch" href="/assets/codetop 中等难度刷题.html.f87ca879.js" as="script" /><link rel="prefetch" href="/assets/中等题刷题.html.9bd298c3.js" as="script" /><link rel="prefetch" href="/assets/Tone.js 框架食用指南.html.f89b546c.js" as="script" /><link rel="prefetch" href="/assets/Web Audio 滤波器Filter.html.c455b828.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 输出判断.html.3a6ab524.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 面试题汇总（上）.html.6ab3fa19.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 面试题汇总（下）.html.3b48337f.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 高频手撕.html.7c8f385f.js" as="script" /><link rel="prefetch" href="/assets/JavaScript高频手撕.html.47d5e190.js" as="script" /><link rel="prefetch" href="/assets/小滴课堂JS题目汇总.html.d6676aef.js" as="script" /><link rel="prefetch" href="/assets/Nest.js 部署方案.html.49c38e3e.js" as="script" /><link rel="prefetch" href="/assets/NPM 包管理.html.221c95ad.js" as="script" /><link rel="prefetch" href="/assets/Node.js 面试题大集合.html.51826d81.js" as="script" /><link rel="prefetch" href="/assets/Antd Pro 新手上路基础知识.html.a26d0023.js" as="script" /><link rel="prefetch" href="/assets/Antd 表单基础使用.html.830cbc6c.js" as="script" /><link rel="prefetch" href="/assets/dva 数据获取和处理.html.645404d2.js" as="script" /><link rel="prefetch" href="/assets/Hooks 实战篇.html.4e4c1af3.js" as="script" /><link rel="prefetch" href="/assets/Hooks ：如何正确理解函数组件的生命周期？.html.8af20e0e.js" as="script" /><link rel="prefetch" href="/assets/Hooks（2）：避免重复定义回调函数.html.b7d2adc0.js" as="script" /><link rel="prefetch" href="/assets/React Hooks 基础.html.2aa6461f.js" as="script" /><link rel="prefetch" href="/assets/React 实现按需加载.html.8809ef83.js" as="script" /><link rel="prefetch" href="/assets/内置 Hooks（1）：如何保存组件状态和使用生命周期？.html.22f436ca.js" as="script" /><link rel="prefetch" href="/assets/函数组件设计模式.html.4aa6bcf9.js" as="script" /><link rel="prefetch" href="/assets/在函数组件中使用 Redux.html.198e32e2.js" as="script" /><link rel="prefetch" href="/assets/如何展示对话框，并给对话框传递参数？.html.ba1e2eea.js" as="script" /><link rel="prefetch" href="/assets/自定义 Hooks.html.1508cd3b.js" as="script" /><link rel="prefetch" href="/assets/自定义事件.html.959bd532.js" as="script" /><link rel="prefetch" href="/assets/路由管理.html.7ab739b9.js" as="script" /><link rel="prefetch" href="/assets/React Native 基础.html.57638d4e.js" as="script" /><link rel="prefetch" href="/assets/UmiJS 乌米学习实战.html.1a660668.js" as="script" /><link rel="prefetch" href="/assets/commit 阶段流程.html.5901bdb3.js" as="script" /><link rel="prefetch" href="/assets/Hooks 解析.html.d23cdc74.js" as="script" /><link rel="prefetch" href="/assets/React 中的 Fiber（纤程）及其工作原理.html.40eaca3f.js" as="script" /><link rel="prefetch" href="/assets/React 架构.html.eb815caf.js" as="script" /><link rel="prefetch" href="/assets/React 源码文件结构.html.026abe02.js" as="script" /><link rel="prefetch" href="/assets/React 状态更新.html.81398d96.js" as="script" /><link rel="prefetch" href="/assets/React 理念.html.67217b9d.js" as="script" /><link rel="prefetch" href="/assets/render 阶段流程.html.b7376f68.js" as="script" /><link rel="prefetch" href="/assets/structure.html.dfbb7247.js" as="script" /><link rel="prefetch" href="/assets/深入理解JSX.html.b57a5381.js" as="script" /><link rel="prefetch" href="/assets/Webpack 常见面试题.html.d5cea570.js" as="script" /><link rel="prefetch" href="/assets/React 面试.html.90517232.js" as="script" /><link rel="prefetch" href="/assets/React 面试题（一）.html.00848d4f.js" as="script" /><link rel="prefetch" href="/assets/React 面试题（二）.html.f3db3f00.js" as="script" /><link rel="prefetch" href="/assets/BFE-TS  TypeScript类型体操练习 41- 50.html.923bf7ae.js" as="script" /><link rel="prefetch" href="/assets/BFE-TS  TypeScript类型体操练习 51- 60.html.78d1cbd2.js" as="script" /><link rel="prefetch" href="/assets/BFE-TS  TypeScript类型体操练习 Easy 1-10.html.1ff84b85.js" as="script" /><link rel="prefetch" href="/assets/BFE-TS  TypeScript类型体操练习 Easy 11-20.html.73c3d25c.js" as="script" /><link rel="prefetch" href="/assets/BFE-TS  TypeScript类型体操练习 Easy 21-30.html.3f46e5d6.js" as="script" /><link rel="prefetch" href="/assets/BFE-TS  TypeScript类型体操练习 Easy 31-40.html.0c4a1a90.js" as="script" /><link rel="prefetch" href="/assets/TypeScript 面试专题.html.ab878bc0.js" as="script" /><link rel="prefetch" href="/assets/TypeScript面试题.html.37cd9a10.js" as="script" /><link rel="prefetch" href="/assets/Vue 3 面试题集合（系统整理升级变动）.html.09adfdfa.js" as="script" /><link rel="prefetch" href="/assets/Vue 面试（上）.html.03053948.js" as="script" /><link rel="prefetch" href="/assets/Vue 面试（下）.html.671cd351.js" as="script" /><link rel="prefetch" href="/assets/uni-simple-router 库使用.html.7a2c7f67.js" as="script" /><link rel="prefetch" href="/assets/从MySQL开始学习数据库.html.4bb533fd.js" as="script" /><link rel="prefetch" href="/assets/Vue VDom.html.71eba153.js" as="script" /><link rel="prefetch" href="/assets/Vue 响应式原理.html.43160c8f.js" as="script" /><link rel="prefetch" href="/assets/VueRouter.html.deee486b.js" as="script" /><link rel="prefetch" href="/assets/Vue编译.html.4bb144ee.js" as="script" /><link rel="prefetch" href="/assets/数据流原理：Vuex _ Pinia.html.e0ec6fb6.js" as="script" /><link rel="prefetch" href="/assets/前端性能优化篇.html.74bbc046.js" as="script" /><link rel="prefetch" href="/assets/浏览器原理面试题汇总.html.8e9df65f.js" as="script" /><link rel="prefetch" href="/assets/CSS刷题【错题本】.html.22d39670.js" as="script" /><link rel="prefetch" href="/assets/HTML刷题【错题本】.html.496824e3.js" as="script" /><link rel="prefetch" href="/assets/JavaScript刷题【错题本】.html.0cd6aa2f.js" as="script" /><link rel="prefetch" href="/assets/计算机网络基础【错题本】.html.27b9daa0.js" as="script" /><link rel="prefetch" href="/assets/SIFT.html.c0e37d29.js" as="script" /><link rel="prefetch" href="/assets/UML图关系详解.html.3f93a27a.js" as="script" /><link rel="prefetch" href="/assets/创建型模式 Creation Pattern.html.b6e58d21.js" as="script" /><link rel="prefetch" href="/assets/牛客设计模式问题总结.html.ab48524f.js" as="script" /><link rel="prefetch" href="/assets/结构型模式 Structural Patterns.html.7f2a2501.js" as="script" /><link rel="prefetch" href="/assets/HTTP 代理和缓存.html.bd8841e7.js" as="script" /><link rel="prefetch" href="/assets/HTTP 版本整合.html.a97e12b6.js" as="script" /><link rel="prefetch" href="/assets/HTTPS与SSL TLS.html.6cf7c9c7.js" as="script" /><link rel="prefetch" href="/assets/HTTPS性能优化.html.d38e6697.js" as="script" /><link rel="prefetch" href="/assets/TLS1.2连接过程解析.html.f6f325a5.js" as="script" /><link rel="prefetch" href="/assets/TCP应知应会（上）.html.7cb08e82.js" as="script" /><link rel="prefetch" href="/assets/TCP应知应会（下）.html.0c40b935.js" as="script" /><link rel="prefetch" href="/assets/TCP应知应会（中）.html.3afe0282.js" as="script" /><link rel="prefetch" href="/assets/UDP应知应会.html.6e1f955c.js" as="script" /><link rel="prefetch" href="/assets/计网常考面试题.html.f784e5e4.js" as="script" /><link rel="prefetch" href="/assets/计网面试题汇总.html.a5826e53.js" as="script" /><link rel="prefetch" href="/assets/快手面试题总结.html.4769b17f.js" as="script" /><link rel="prefetch" href="/assets/美团面经.html.9db9a017.js" as="script" /><link rel="prefetch" href="/assets/阿里面经问题集合.html.69442fe7.js" as="script" /><link rel="prefetch" href="/assets/404.html.3e07fc2d.js" as="script" /><link rel="prefetch" href="/assets/index.html.51b0df51.js" as="script" /><link rel="prefetch" href="/assets/index.html.c613dced.js" as="script" /><link rel="prefetch" href="/assets/index.html.c7b4d7ae.js" as="script" /><link rel="prefetch" href="/assets/index.html.2aff0272.js" as="script" /><link rel="prefetch" href="/assets/index.html.52d3fc26.js" as="script" /><link rel="prefetch" href="/assets/index.html.04e32b85.js" as="script" /><link rel="prefetch" href="/assets/index.html.9fef785b.js" as="script" /><link rel="prefetch" href="/assets/index.html.344b84fe.js" as="script" /><link rel="prefetch" href="/assets/index.html.8ac1d624.js" as="script" /><link rel="prefetch" href="/assets/index.html.02c66ef9.js" as="script" /><link rel="prefetch" href="/assets/index.html.4087944e.js" as="script" /><link rel="prefetch" href="/assets/index.html.3d333f73.js" as="script" /><link rel="prefetch" href="/assets/index.html.c225daf4.js" as="script" /><link rel="prefetch" href="/assets/index.html.df788732.js" as="script" /><link rel="prefetch" href="/assets/index.html.d2254c72.js" as="script" /><link rel="prefetch" href="/assets/index.html.ee8a523a.js" as="script" /><link rel="prefetch" href="/assets/index.html.258ba67e.js" as="script" /><link rel="prefetch" href="/assets/index.html.fe56ab80.js" as="script" /><link rel="prefetch" href="/assets/index.html.557c77df.js" as="script" /><link rel="prefetch" href="/assets/index.html.ff760fff.js" as="script" /><link rel="prefetch" href="/assets/index.html.32649835.js" as="script" /><link rel="prefetch" href="/assets/index.html.bc38950b.js" as="script" /><link rel="prefetch" href="/assets/index.html.48355781.js" as="script" /><link rel="prefetch" href="/assets/index.html.610e595e.js" as="script" /><link rel="prefetch" href="/assets/index.html.961f13d8.js" as="script" /><link rel="prefetch" href="/assets/index.html.dbb4fe96.js" as="script" /><link rel="prefetch" href="/assets/index.html.b4029a24.js" as="script" /><link rel="prefetch" href="/assets/index.html.058b4163.js" as="script" /><link rel="prefetch" href="/assets/index.html.f2c09aa1.js" as="script" /><link rel="prefetch" href="/assets/index.html.9f3ff3b7.js" as="script" /><link rel="prefetch" href="/assets/index.html.dc57c4b6.js" as="script" /><link rel="prefetch" href="/assets/index.html.45449fd4.js" as="script" /><link rel="prefetch" href="/assets/index.html.bf9e55f8.js" as="script" /><link rel="prefetch" href="/assets/index.html.51dca90c.js" as="script" /><link rel="prefetch" href="/assets/index.html.a4aa7ea2.js" as="script" /><link rel="prefetch" href="/assets/index.html.56eaaf16.js" as="script" /><link rel="prefetch" href="/assets/index.html.a009b89e.js" as="script" /><link rel="prefetch" href="/assets/index.html.6a0f351c.js" as="script" /><link rel="prefetch" href="/assets/index.html.ccccf161.js" as="script" /><link rel="prefetch" href="/assets/index.html.00579546.js" as="script" /><link rel="prefetch" href="/assets/index.html.38c94942.js" as="script" /><link rel="prefetch" href="/assets/index.html.c556808f.js" as="script" /><link rel="prefetch" href="/assets/index.html.bd414176.js" as="script" /><link rel="prefetch" href="/assets/index.html.89fe4d8a.js" as="script" /><link rel="prefetch" href="/assets/index.html.20a6258d.js" as="script" /><link rel="prefetch" href="/assets/index.html.a4a570f3.js" as="script" /><link rel="prefetch" href="/assets/index.html.bcb6b183.js" as="script" /><link rel="prefetch" href="/assets/index.html.40a26acf.js" as="script" /><link rel="prefetch" href="/assets/index.html.08bd2b4b.js" as="script" /><link rel="prefetch" href="/assets/index.html.6de7cbe1.js" as="script" /><link rel="prefetch" href="/assets/index.html.9c20ecc9.js" as="script" /><link rel="prefetch" href="/assets/index.html.0c4a6efa.js" as="script" /><link rel="prefetch" href="/assets/index.html.2e5ea1a7.js" as="script" /><link rel="prefetch" href="/assets/个人简介.html.b62f4bac.js" as="script" /><link rel="prefetch" href="/assets/Astro 中启用服务器端渲染.html.f5212c9e.js" as="script" /><link rel="prefetch" href="/assets/Vue集成.html.5eef6caa.js" as="script" /><link rel="prefetch" href="/assets/来了解一下 Island Architecture 孤岛架构.html.bb0371f4.js" as="script" /><link rel="prefetch" href="/assets/CSS 父元素没有被子元素撑开问题.html.89d0535c.js" as="script" /><link rel="prefetch" href="/assets/CSS 自定义属性.html.205f93c9.js" as="script" /><link rel="prefetch" href="/assets/CSS进阶：逻辑组合伪类.html.acc6c93e.js" as="script" /><link rel="prefetch" href="/assets/Flex 布局.html.c307adf9.js" as="script" /><link rel="prefetch" href="/assets/Grid 布局.html.74965b23.js" as="script" /><link rel="prefetch" href="/assets/Less 知识点汇总.html.20834fca.js" as="script" /><link rel="prefetch" href="/assets/Stylus 学习整合.html.b249fefc.js" as="script" /><link rel="prefetch" href="/assets/Vue scoped属性的用途和工作原理.html.e984ebb9.js" as="script" /><link rel="prefetch" href="/assets/伪类与伪元素的区别.html.1c1023f9.js" as="script" /><link rel="prefetch" href="/assets/逻辑组合伪类.html.0d6091da.js" as="script" /><link rel="prefetch" href="/assets/button标签和div模拟按钮的区别.html.53ae7b76.js" as="script" /><link rel="prefetch" href="/assets/HTML 高频.html.612b1908.js" as="script" /><link rel="prefetch" href="/assets/HTML知识点汇总.html.edc5539a.js" as="script" /><link rel="prefetch" href="/assets/axios、XHR、XML、AJAX和Fetch分不清怎么办？.html.9d1ddf10.js" as="script" /><link rel="prefetch" href="/assets/ES 12 新特性.html.21b48948.js" as="script" /><link rel="prefetch" href="/assets/ES5、6 指导规范.html.200b69e3.js" as="script" /><link rel="prefetch" href="/assets/IIFE 立即执行函数表达式.html.7e27c08e.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 如何跳出（终止）forEach 循环.html.7833e488.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 获取用户操作系统信息及浏览器信息.html.43db9ad4.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 进阶整合.html.50126a99.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 错误处理指南.html.d1af0d8b.js" as="script" /><link rel="prefetch" href="/assets/JavaScript优雅写法及骚操作.html.3de9ca30.js" as="script" /><link rel="prefetch" href="/assets/js中__与___的区别.html.48e40ece.js" as="script" /><link rel="prefetch" href="/assets/JS垃圾回收机制.html.0e1c40a5.js" as="script" /><link rel="prefetch" href="/assets/LocalStorage、sessionStorage 封装 - 基于TypeScript.html.e2130309.js" as="script" /><link rel="prefetch" href="/assets/PromiseA 集合.html.a99ce68d.js" as="script" /><link rel="prefetch" href="/assets/Property原型链与原型链.html.c0ff4dae.js" as="script" /><link rel="prefetch" href="/assets/Set，Map 和 Array的区别.html.09951eb1.js" as="script" /><link rel="prefetch" href="/assets/为什么每个人都在谈论同构JavaScript 以及为什么它很重要.html.dbc87985.js" as="script" /><link rel="prefetch" href="/assets/事件循环是如何影响页面渲染的？.html.6c75d8f9.js" as="script" /><link rel="prefetch" href="/assets/前端模块：CJS_ AMD_ UMD_ ESM_ System 和 IIFE.html.df147007.js" as="script" /><link rel="prefetch" href="/assets/如何使用Performance API 来衡量应用性能？.html.e9345314.js" as="script" /><link rel="prefetch" href="/assets/怎么总有人混淆Service Worker 和 Web Worker？.html.6c3d1ef5.js" as="script" /><link rel="prefetch" href="/assets/来认识一下实用的、好用的：URL API.html.e8471cf4.js" as="script" /><link rel="prefetch" href="/assets/正则表达式卷起来！.html.efdded3d.js" as="script" /><link rel="prefetch" href="/assets/深入解析call、apply、bind.html.5cf7d3c7.js" as="script" /><link rel="prefetch" href="/assets/玩转一行代码KO问题.html.26a18984.js" as="script" /><link rel="prefetch" href="/assets/页面生命周期：DOMContentLoaded_ load_ beforeunload_ unload.html.fe45a41d.js" as="script" /><link rel="prefetch" href="/assets/CJS 和 ES Module 横向对比.html.dae5c1cd.js" as="script" /><link rel="prefetch" href="/assets/CORS 跨域及其 Nodejs 服务端配置实践.html.cab3e2c1.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（1）内核引擎.html.6081f1c0.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（2）模块化.html.e8d4528e.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（3）Node常用内置模块.html.03f86d63.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（4）包管理工具.html.bc18292a.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（5）开发脚手架工具.html.9505af28.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（6）Stream.html.1f3f13f9.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（7）Buffer的使用.html.528abb63.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（8）Http模块.html.bc24297d.js" as="script" /><link rel="prefetch" href="/assets/Node 笔记（9）深入事件循环.html.32c25f0b.js" as="script" /><link rel="prefetch" href="/assets/Node.js 进程通信.html.ecbe22d2.js" as="script" /><link rel="prefetch" href="/assets/npm包打补丁 — patch-package.html.ba897b95.js" as="script" /><link rel="prefetch" href="/assets/为什么是 pnpm？我们为何使用monorepo？.html.0bcf456f.js" as="script" /><link rel="prefetch" href="/assets/使用Node.js 实现网络代理（无框架，通过http-proxy）.html.57d47744.js" as="script" /><link rel="prefetch" href="/assets/横向对比 CJS 和 ES Module.html.5dd1a19a.js" as="script" /><link rel="prefetch" href="/assets/Mobx 教程.html.03fbebd0.js" as="script" /><link rel="prefetch" href="/assets/React 中使用 TypeScript.html.02f85ae4.js" as="script" /><link rel="prefetch" href="/assets/React 项目优化.html.e33362d4.js" as="script" /><link rel="prefetch" href="/assets/ReactHooks汇总.html.7c6f2ec0.js" as="script" /><link rel="prefetch" href="/assets/ReactRouter V6 解析.html.be1093d3.js" as="script" /><link rel="prefetch" href="/assets/React基础.html.aabb4ea3.js" as="script" /><link rel="prefetch" href="/assets/useReducer：类Redux的useState替代方案.html.0b41cd33.js" as="script" /><link rel="prefetch" href="/assets/容器内选择单一列表并进行高亮切换的实践.html.539a3515.js" as="script" /><link rel="prefetch" href="/assets/执行和清除Effect的时机.html.9874079f.js" as="script" /><link rel="prefetch" href="/assets/高级 React 组件组合.html.9371b3a8.js" as="script" /><link rel="prefetch" href="/assets/Webpack  插件开发实践.html.899a4ebb.js" as="script" /><link rel="prefetch" href="/assets/Webpack Loader 实践.html.471d0ce9.js" as="script" /><link rel="prefetch" href="/assets/Webpack 图像处理.html.750d8dc6.js" as="script" /><link rel="prefetch" href="/assets/Webpack 学习指北.html.0821853b.js" as="script" /><link rel="prefetch" href="/assets/Webpack 工作流程.html.fd295117.js" as="script" /><link rel="prefetch" href="/assets/Webpack 性能优化.html.4ae87793.js" as="script" /><link rel="prefetch" href="/assets/Webpack 配置及规则.html.74da435a.js" as="script" /><link rel="prefetch" href="/assets/Webpack 链式调用模型.html.4efa8506.js" as="script" /><link rel="prefetch" href="/assets/TS 装饰器使用一览.html.3e4cbf46.js" as="script" /><link rel="prefetch" href="/assets/TS中的内置条件类型：ReturnType.html.99a0f7fc.js" as="script" /><link rel="prefetch" href="/assets/TypeScript 笔记.html.b23496d0.js" as="script" /><link rel="prefetch" href="/assets/「重学TS 2.0 」TS 练习题1-10.html.01e9614c.js" as="script" /><link rel="prefetch" href="/assets/函数泛型.html.7aae72ae.js" as="script" /><link rel="prefetch" href="/assets/工具类型.html.4fed5552.js" as="script" /><link rel="prefetch" href="/assets/Pinia 学习笔记.html.02cc2d56.js" as="script" /><link rel="prefetch" href="/assets/Vite 学习和浅析.html.38bc28e0.js" as="script" /><link rel="prefetch" href="/assets/Vue 3项目中的性能优化.html.d47ebd3b.js" as="script" /><link rel="prefetch" href="/assets/Vue keep-alive 笔记.html.caf6792e.js" as="script" /><link rel="prefetch" href="/assets/Vue Router 浅析.html.3c9a3bf7.js" as="script" /><link rel="prefetch" href="/assets/Vue 自定义钩子如何访问生命周期.html.4afc9ca1.js" as="script" /><link rel="prefetch" href="/assets/Vue 进阶使用.html.c72145ce.js" as="script" /><link rel="prefetch" href="/assets/Vue.set()和this._set().html.be06c0bb.js" as="script" /><link rel="prefetch" href="/assets/VueBus 总线传参数.html.67750c8e.js" as="script" /><link rel="prefetch" href="/assets/Vuex 基础与进阶使用.html.fc37690f.js" as="script" /><link rel="prefetch" href="/assets/Vue项目常用库.html.f5a384c9.js" as="script" /><link rel="prefetch" href="/assets/__nextTick_深入探究.html.d2d8492e.js" as="script" /><link rel="prefetch" href="/assets/前端路由 hash 与 history 差异.html.a924f966.js" as="script" /><link rel="prefetch" href="/assets/BFF 模式 （Backend For Frontend）.html.ef9893e7.js" as="script" /><link rel="prefetch" href="/assets/CommitMessage的Git格式规范.html.d606fea4.js" as="script" /><link rel="prefetch" href="/assets/CORS.html.3639614b.js" as="script" /><link rel="prefetch" href="/assets/Google 核心 Web 指标.html.39c9963b.js" as="script" /><link rel="prefetch" href="/assets/RPC 笔记.html.d633b0b1.js" as="script" /><link rel="prefetch" href="/assets/前端抓包.html.7e2e8495.js" as="script" /><link rel="prefetch" href="/assets/同构渲染：SSR (Server-Side Rendering) 与CSH (Client-Side Hydration).html.1121053d.js" as="script" /><link rel="prefetch" href="/assets/强缓存和协商缓存.html.9faea2e0.js" as="script" /><link rel="prefetch" href="/assets/MySQL从入门到入院.html.3f348608.js" as="script" /><link rel="prefetch" href="/assets/Redis 学习笔记.html.2946e8d5.js" as="script" /><link rel="prefetch" href="/assets/高并发常见性能表现评估指标.html.41cb8a1e.js" as="script" /><link rel="prefetch" href="/assets/Git 常用语句与命令行.html.4be5be83.js" as="script" /><link rel="prefetch" href="/assets/Serverless 笔记.html.eb1767be.js" as="script" /><link rel="prefetch" href="/assets/UED、UCD、UE、UI、交互设计.html.70cb421a.js" as="script" /><link rel="prefetch" href="/assets/来了解一下 git fetch 与 git pull的区别.html.80452bd2.js" as="script" /><link rel="prefetch" href="/assets/2022年中总结.html.ddb415a3.js" as="script" /><link rel="prefetch" href="/assets/2022年终总结.html.bff0a75b.js" as="script" /><link rel="prefetch" href="/assets/offer，三方，两方，毁约 这些你需要知道的事.html.2489dbb1.js" as="script" /><link rel="prefetch" href="/assets/校招日志 校招经验总结.html.3bff0e1d.js" as="script" /><link rel="prefetch" href="/assets/知识大纲.html.05885b28.js" as="script" /><link rel="prefetch" href="/assets/Axios 源码探秘.html.073ca02a.js" as="script" /><link rel="prefetch" href="/assets/使用TS封装给大家用的Axios.html.21fdf218.js" as="script" /><link rel="prefetch" href="/assets/L1 浏览器基础.html.e4e60d0a.js" as="script" /><link rel="prefetch" href="/assets/L10 作用域链和闭包：代码中出现相同的变量，JavaScript引擎如何选择.html.825de344.js" as="script" /><link rel="prefetch" href="/assets/L11 this：从JavaScript执行上下文视角讲this.html.879c8f99.js" as="script" /><link rel="prefetch" href="/assets/L12 栈空间和堆空间：数据是如何存储的.html.3e65a011.js" as="script" /><link rel="prefetch" href="/assets/L13 垃圾回收：垃圾数据如何自动回收.html.a4404048.js" as="script" /><link rel="prefetch" href="/assets/L14 编译器和解析器：V8如何执行一段JavaScript代码的.html.c77e26c1.js" as="script" /><link rel="prefetch" href="/assets/L15 消息队列和事件循环：页面是怎么活起来的.html.118b1307.js" as="script" /><link rel="prefetch" href="/assets/L16 WebAPI：setTimeout是怎么实现的.html.7a2361c5.js" as="script" /><link rel="prefetch" href="/assets/L17 WebAPI：XMLHttpRequest是怎么实现的.html.5dd21703.js" as="script" /><link rel="prefetch" href="/assets/L18 宏任务和微任务：不是所有的任务都是一个待遇.html.085997cd.js" as="script" /><link rel="prefetch" href="/assets/L19 使用Promise告别回调函数.html.283c1a27.js" as="script" /><link rel="prefetch" href="/assets/L2 UDP和TCP.html.c53014e4.js" as="script" /><link rel="prefetch" href="/assets/L20 async await使用同步方式写异步代码.html.1405d603.js" as="script" /><link rel="prefetch" href="/assets/L21 页面性能分析：利用Chrome做web性能分析.html.45179190.js" as="script" /><link rel="prefetch" href="/assets/L22 DOM树：JavaScript是如何影响DOM树构建的.html.7b88958a.js" as="script" /><link rel="prefetch" href="/assets/L23 渲染流水线：CSS如何影响首次加载时的白屏时间？.html.06b0aa61.js" as="script" /><link rel="prefetch" href="/assets/L24 分层和合成机制：为什么css动画比JavaScript高效.html.86efe7e2.js" as="script" /><link rel="prefetch" href="/assets/L25 页面性能：如何系统优化页面.html.ca0781ec.js" as="script" /><link rel="prefetch" href="/assets/L26 虚拟DOM：虚拟DOM和实际DOM有何不同.html.49899213.js" as="script" /><link rel="prefetch" href="/assets/L27 PWA：解决了web应用哪些问题.html.0401112c.js" as="script" /><link rel="prefetch" href="/assets/L28 Web Component：像搭积木一样构建web应用.html.0e3ac666.js" as="script" /><link rel="prefetch" href="/assets/L29 HTTP1：HTTP性能优化.html.3a58554b.js" as="script" /><link rel="prefetch" href="/assets/L3 HTTP请求流程：为什么很多站点第二次打开速度会很快.html.007229e6.js" as="script" /><link rel="prefetch" href="/assets/L30 HTTP2：如何提升网络速度.html.28b4080f.js" as="script" /><link rel="prefetch" href="/assets/L31 HTTP3：甩掉TCP、TCL包袱 构建高效网络.html.bb5588dd.js" as="script" /><link rel="prefetch" href="/assets/L32 同源策略：为什么XMLHttpRequst不能跨域请求资源.html.1b81a343.js" as="script" /><link rel="prefetch" href="/assets/L33 跨站脚本攻击XSS：为什么cookie中有httpOnly属性.html.e5dc5393.js" as="script" /><link rel="prefetch" href="/assets/L34 CSRF攻击：陌生链接不要随便点.html.3957d8dc.js" as="script" /><link rel="prefetch" href="/assets/L35 沙盒：页面和系统之间的隔离墙.html.30ea3b72.js" as="script" /><link rel="prefetch" href="/assets/L36 HTTPS：让数据传输更安全.html.c1602a36.js" as="script" /><link rel="prefetch" href="/assets/L4 从输入URL到页面展示这中间发生了什么？.html.45a7837d.js" as="script" /><link rel="prefetch" href="/assets/L5 渲染流程（上）：HTML、CSS和JavaScript是如何变成页面的.html.53650a9d.js" as="script" /><link rel="prefetch" href="/assets/L6 渲染流程（下）：HTML、CSS和JavaScript是如何变成页面的.html.f5c458ee.js" as="script" /><link rel="prefetch" href="/assets/L7 变量提升：JavaScript代码是按顺序执行的吗.html.c4190925.js" as="script" /><link rel="prefetch" href="/assets/L8 调用栈：为什么JavaScript代码会出现栈溢出.html.11842a36.js" as="script" /><link rel="prefetch" href="/assets/L9 块级作用域：var缺陷以及为什么要引入let和const.html.09fb272c.js" as="script" /><link rel="prefetch" href="/assets/牛客网刷题1-10.html.d58c42a7.js" as="script" /><link rel="prefetch" href="/assets/牛客网刷题11-20.html.75e64deb.js" as="script" /><link rel="prefetch" href="/assets/牛客网刷题21-30.html.b6bf341a.js" as="script" /><link rel="prefetch" href="/assets/牛客网刷题31-40.html.73c3c1c8.js" as="script" /><link rel="prefetch" href="/assets/牛客网刷题41-50.html.4caa5d63.js" as="script" /><link rel="prefetch" href="/assets/牛客网刷题51-60.html.5b9f4d9d.js" as="script" /><link rel="prefetch" href="/assets/CDN 内容分发网络.html.b98b230e.js" as="script" /><link rel="prefetch" href="/assets/Nginx：高性能的Web服务器.html.5a892162.js" as="script" /><link rel="prefetch" href="/assets/OpenResty：更灵活的Web服务器.html.5019bc35.js" as="script" /><link rel="prefetch" href="/assets/RESTful 下请求方法的幂等性.html.d6140889.js" as="script" /><link rel="prefetch" href="/assets/WAF 网络应用防火墙.html.a0cc25b2.js" as="script" /><link rel="prefetch" href="/assets/WebSocket.html.27fd8730.js" as="script" /><link rel="prefetch" href="/assets/前端存储方案一览.html.e1f81935.js" as="script" /><link rel="prefetch" href="/assets/浏览器缓存机制-缓存位置.html.96a6c74b.js" as="script" /><link rel="prefetch" href="/assets/浏览器缓存机制-请求头.html.61bcd3d4.js" as="script" /><link rel="prefetch" href="/assets/LaTeX 数学公式语法手册.html.130d1594.js" as="script" /><link rel="prefetch" href="/assets/PPT图文排版心得.html.71a437e3.js" as="script" /><link rel="prefetch" href="/assets/前端学习目标.html.e73dd4de.js" as="script" /><link rel="prefetch" href="/assets/浏览器翻译.html.4e02e427.js" as="script" /><link rel="prefetch" href="/assets/程序员软技能.html.cfd5fb13.js" as="script" /><link rel="prefetch" href="/assets/精选文章列表.html.120d7a06.js" as="script" /><link rel="prefetch" href="/assets/哔哩哔哩面经.html.b817aa6f.js" as="script" /><link rel="prefetch" href="/assets/快手面经.html.b8e89f3d.js" as="script" /><link rel="prefetch" href="/assets/星网锐捷面经.html.9373b4a9.js" as="script" /><link rel="prefetch" href="/assets/朴朴面经.html.ab2b18fc.js" as="script" /><link rel="prefetch" href="/assets/美团面经.html.7e360c0f.js" as="script" /><link rel="prefetch" href="/assets/Node.js 前端面试题.html.74e76b98.js" as="script" /><link rel="prefetch" href="/assets/share.html.bf560d03.js" as="script" /><link rel="prefetch" href="/assets/「算法与数据结构」梳理6大排序算法 为了offer.html.432b78b5.js" as="script" /><link rel="prefetch" href="/assets/前端工程师面试手册.html.77cdf5e6.js" as="script" /><link rel="prefetch" href="/assets/前端面试十万字书籍总结.html.fc5704f6.js" as="script" /><link rel="prefetch" href="/assets/计算机网络面试题.html.b84b871b.js" as="script" /><link rel="prefetch" href="/assets/Tailwind CSS 核心概念：功能类优先.html.27b5f0e8.js" as="script" /><link rel="prefetch" href="/assets/CSS 面试题汇总.html.379b6262.js" as="script" /><link rel="prefetch" href="/assets/Leetcode 企业题库.html.11f42ef9.js" as="script" /><link rel="prefetch" href="/assets/字节跳动CodeTop（一）.html.7601a1df.js" as="script" /><link rel="prefetch" href="/assets/字节跳动CodeTop（三）.html.36ef421c.js" as="script" /><link rel="prefetch" href="/assets/字节跳动CodeTop（二）.html.92fb585d.js" as="script" /><link rel="prefetch" href="/assets/快手CodeTop.html.75f10117.js" as="script" /><link rel="prefetch" href="/assets/拼多多CodeTop.html.df4f14d5.js" as="script" /><link rel="prefetch" href="/assets/美团CodeTop.html.26f83407.js" as="script" /><link rel="prefetch" href="/assets/腾讯 CodeTop.html.18c36ddc.js" as="script" /><link rel="prefetch" href="/assets/codetop 中等难度刷题.html.ef3fca77.js" as="script" /><link rel="prefetch" href="/assets/中等题刷题.html.05fc1f08.js" as="script" /><link rel="prefetch" href="/assets/Tone.js 框架食用指南.html.119eb541.js" as="script" /><link rel="prefetch" href="/assets/Web Audio 滤波器Filter.html.2cb66db2.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 输出判断.html.65845dc7.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 面试题汇总（上）.html.b186070c.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 面试题汇总（下）.html.e6f656bb.js" as="script" /><link rel="prefetch" href="/assets/JavaScript 高频手撕.html.fc3e8cea.js" as="script" /><link rel="prefetch" href="/assets/JavaScript高频手撕.html.58b969a1.js" as="script" /><link rel="prefetch" href="/assets/小滴课堂JS题目汇总.html.9f5aef3b.js" as="script" /><link rel="prefetch" href="/assets/Nest.js 部署方案.html.571c9bd0.js" as="script" /><link rel="prefetch" href="/assets/NPM 包管理.html.9370a1b9.js" as="script" /><link rel="prefetch" href="/assets/Node.js 面试题大集合.html.fcb55d3f.js" as="script" /><link rel="prefetch" href="/assets/Antd Pro 新手上路基础知识.html.73ac4583.js" as="script" /><link rel="prefetch" href="/assets/Antd 表单基础使用.html.ecf027ba.js" as="script" /><link rel="prefetch" href="/assets/dva 数据获取和处理.html.a5c3db5b.js" as="script" /><link rel="prefetch" href="/assets/Hooks 实战篇.html.969da172.js" as="script" /><link rel="prefetch" href="/assets/Hooks ：如何正确理解函数组件的生命周期？.html.7c67b11c.js" as="script" /><link rel="prefetch" href="/assets/Hooks（2）：避免重复定义回调函数.html.882eb788.js" as="script" /><link rel="prefetch" href="/assets/React Hooks 基础.html.ba18772b.js" as="script" /><link rel="prefetch" href="/assets/React 实现按需加载.html.be0b9354.js" as="script" /><link rel="prefetch" href="/assets/内置 Hooks（1）：如何保存组件状态和使用生命周期？.html.163442d9.js" as="script" /><link rel="prefetch" href="/assets/函数组件设计模式.html.3b2cee7e.js" as="script" /><link rel="prefetch" href="/assets/在函数组件中使用 Redux.html.ff50d963.js" as="script" /><link rel="prefetch" href="/assets/如何展示对话框，并给对话框传递参数？.html.4eb4346c.js" as="script" /><link rel="prefetch" href="/assets/自定义 Hooks.html.56a2f6a0.js" as="script" /><link rel="prefetch" href="/assets/自定义事件.html.f3b95bd3.js" as="script" /><link rel="prefetch" href="/assets/路由管理.html.fa0ebd1f.js" as="script" /><link rel="prefetch" href="/assets/React Native 基础.html.694beae8.js" as="script" /><link rel="prefetch" href="/assets/UmiJS 乌米学习实战.html.b65126e6.js" as="script" /><link rel="prefetch" href="/assets/commit 阶段流程.html.74e6334f.js" as="script" /><link rel="prefetch" href="/assets/Hooks 解析.html.f52724c5.js" as="script" /><link rel="prefetch" href="/assets/React 中的 Fiber（纤程）及其工作原理.html.6b33e1a4.js" as="script" /><link rel="prefetch" href="/assets/React 架构.html.b8bb1265.js" as="script" /><link rel="prefetch" href="/assets/React 源码文件结构.html.44a9c92b.js" as="script" /><link rel="prefetch" href="/assets/React 状态更新.html.59cbb423.js" as="script" /><link rel="prefetch" href="/assets/React 理念.html.e77372fb.js" as="script" /><link rel="prefetch" href="/assets/render 阶段流程.html.9a23ddd0.js" as="script" /><link rel="prefetch" href="/assets/structure.html.a6452b4d.js" as="script" /><link rel="prefetch" href="/assets/深入理解JSX.html.5f749301.js" as="script" /><link rel="prefetch" href="/assets/Webpack 常见面试题.html.0e864376.js" as="script" /><link rel="prefetch" href="/assets/React 面试.html.4a360664.js" as="script" /><link rel="prefetch" href="/assets/React 面试题（一）.html.4d9bb545.js" as="script" /><link rel="prefetch" href="/assets/React 面试题（二）.html.736baf8b.js" as="script" /><link rel="prefetch" href="/assets/BFE-TS  TypeScript类型体操练习 41- 50.html.61fa281a.js" as="script" /><link rel="prefetch" href="/assets/BFE-TS  TypeScript类型体操练习 51- 60.html.7add7061.js" as="script" /><link rel="prefetch" href="/assets/BFE-TS  TypeScript类型体操练习 Easy 1-10.html.f6c7bfb1.js" as="script" /><link rel="prefetch" href="/assets/BFE-TS  TypeScript类型体操练习 Easy 11-20.html.2b47b9cf.js" as="script" /><link rel="prefetch" href="/assets/BFE-TS  TypeScript类型体操练习 Easy 21-30.html.ed464434.js" as="script" /><link rel="prefetch" href="/assets/BFE-TS  TypeScript类型体操练习 Easy 31-40.html.5db6106a.js" as="script" /><link rel="prefetch" href="/assets/TypeScript 面试专题.html.8667c6d3.js" as="script" /><link rel="prefetch" href="/assets/TypeScript面试题.html.684bb8c2.js" as="script" /><link rel="prefetch" href="/assets/Vue 3 面试题集合（系统整理升级变动）.html.265d91c9.js" as="script" /><link rel="prefetch" href="/assets/Vue 面试（上）.html.7e0dad32.js" as="script" /><link rel="prefetch" href="/assets/Vue 面试（下）.html.d4fa2f0d.js" as="script" /><link rel="prefetch" href="/assets/uni-simple-router 库使用.html.92deedc1.js" as="script" /><link rel="prefetch" href="/assets/从MySQL开始学习数据库.html.a3fbbbae.js" as="script" /><link rel="prefetch" href="/assets/Vue VDom.html.e3ed0efc.js" as="script" /><link rel="prefetch" href="/assets/Vue 响应式原理.html.ab785d87.js" as="script" /><link rel="prefetch" href="/assets/VueRouter.html.bfe4288b.js" as="script" /><link rel="prefetch" href="/assets/Vue编译.html.3564885e.js" as="script" /><link rel="prefetch" href="/assets/数据流原理：Vuex _ Pinia.html.cc3ef990.js" as="script" /><link rel="prefetch" href="/assets/前端性能优化篇.html.b29fa0d4.js" as="script" /><link rel="prefetch" href="/assets/浏览器原理面试题汇总.html.8d3bf59d.js" as="script" /><link rel="prefetch" href="/assets/CSS刷题【错题本】.html.fd82664c.js" as="script" /><link rel="prefetch" href="/assets/HTML刷题【错题本】.html.d29b94cd.js" as="script" /><link rel="prefetch" href="/assets/JavaScript刷题【错题本】.html.7d2a3388.js" as="script" /><link rel="prefetch" href="/assets/计算机网络基础【错题本】.html.fc99c44c.js" as="script" /><link rel="prefetch" href="/assets/SIFT.html.8c8e2d63.js" as="script" /><link rel="prefetch" href="/assets/UML图关系详解.html.88c1bc77.js" as="script" /><link rel="prefetch" href="/assets/创建型模式 Creation Pattern.html.5de0d13b.js" as="script" /><link rel="prefetch" href="/assets/牛客设计模式问题总结.html.f6e1c9ca.js" as="script" /><link rel="prefetch" href="/assets/结构型模式 Structural Patterns.html.f647c46d.js" as="script" /><link rel="prefetch" href="/assets/HTTP 代理和缓存.html.3e049eec.js" as="script" /><link rel="prefetch" href="/assets/HTTP 版本整合.html.05323caa.js" as="script" /><link rel="prefetch" href="/assets/HTTPS与SSL TLS.html.fb4ec8cf.js" as="script" /><link rel="prefetch" href="/assets/HTTPS性能优化.html.5fd83fa4.js" as="script" /><link rel="prefetch" href="/assets/TLS1.2连接过程解析.html.0f9437da.js" as="script" /><link rel="prefetch" href="/assets/TCP应知应会（上）.html.6ec47152.js" as="script" /><link rel="prefetch" href="/assets/TCP应知应会（下）.html.0e117c85.js" as="script" /><link rel="prefetch" href="/assets/TCP应知应会（中）.html.70257f15.js" as="script" /><link rel="prefetch" href="/assets/UDP应知应会.html.0b2b4dad.js" as="script" /><link rel="prefetch" href="/assets/计网常考面试题.html.5bc927a3.js" as="script" /><link rel="prefetch" href="/assets/计网面试题汇总.html.b4b40225.js" as="script" /><link rel="prefetch" href="/assets/快手面试题总结.html.c75b079c.js" as="script" /><link rel="prefetch" href="/assets/美团面经.html.c44dee8a.js" as="script" /><link rel="prefetch" href="/assets/阿里面经问题集合.html.4e8f30eb.js" as="script" /><link rel="prefetch" href="/assets/404.html.712a5fd9.js" as="script" /><link rel="prefetch" href="/assets/index.html.454dd9ac.js" as="script" /><link rel="prefetch" href="/assets/index.html.6c878730.js" as="script" /><link rel="prefetch" href="/assets/index.html.c58f23ab.js" as="script" /><link rel="prefetch" href="/assets/index.html.05d8b3c1.js" as="script" /><link rel="prefetch" href="/assets/index.html.13baf183.js" as="script" /><link rel="prefetch" href="/assets/index.html.7b8e959f.js" as="script" /><link rel="prefetch" href="/assets/index.html.d50f124d.js" as="script" /><link rel="prefetch" href="/assets/index.html.16a7965b.js" as="script" /><link rel="prefetch" href="/assets/index.html.4bfe7612.js" as="script" /><link rel="prefetch" href="/assets/index.html.a4a1615f.js" as="script" /><link rel="prefetch" href="/assets/index.html.df91f7e8.js" as="script" /><link rel="prefetch" href="/assets/index.html.03dd8737.js" as="script" /><link rel="prefetch" href="/assets/index.html.50757227.js" as="script" /><link rel="prefetch" href="/assets/index.html.4210a4bb.js" as="script" /><link rel="prefetch" href="/assets/index.html.65213e43.js" as="script" /><link rel="prefetch" href="/assets/index.html.970234b8.js" as="script" /><link rel="prefetch" href="/assets/index.html.df870ef5.js" as="script" /><link rel="prefetch" href="/assets/index.html.6a182b6b.js" as="script" /><link rel="prefetch" href="/assets/index.html.b0cfd56a.js" as="script" /><link rel="prefetch" href="/assets/index.html.c730cf90.js" as="script" /><link rel="prefetch" href="/assets/index.html.e18354bd.js" as="script" /><link rel="prefetch" href="/assets/index.html.d986cec7.js" as="script" /><link rel="prefetch" href="/assets/index.html.c64c2a60.js" as="script" /><link rel="prefetch" href="/assets/index.html.06c5b247.js" as="script" /><link rel="prefetch" href="/assets/index.html.0fe6aecb.js" as="script" /><link rel="prefetch" href="/assets/index.html.4f633711.js" as="script" /><link rel="prefetch" href="/assets/index.html.c3583e8e.js" as="script" /><link rel="prefetch" href="/assets/index.html.26cff1f8.js" as="script" /><link rel="prefetch" href="/assets/index.html.7b4f031c.js" as="script" /><link rel="prefetch" href="/assets/index.html.017dff78.js" as="script" /><link rel="prefetch" href="/assets/index.html.d6857ea5.js" as="script" /><link rel="prefetch" href="/assets/index.html.0ac86dfc.js" as="script" /><link rel="prefetch" href="/assets/index.html.490370c9.js" as="script" /><link rel="prefetch" href="/assets/index.html.bbed1aa4.js" as="script" /><link rel="prefetch" href="/assets/index.html.ffc43e5a.js" as="script" /><link rel="prefetch" href="/assets/index.html.c526568b.js" as="script" /><link rel="prefetch" href="/assets/index.html.6249fa97.js" as="script" /><link rel="prefetch" href="/assets/index.html.56de3399.js" as="script" /><link rel="prefetch" href="/assets/index.html.5a928a2e.js" as="script" /><link rel="prefetch" href="/assets/index.html.0ab2841b.js" as="script" /><link rel="prefetch" href="/assets/index.html.c49f4297.js" as="script" /><link rel="prefetch" href="/assets/index.html.6df41682.js" as="script" /><link rel="prefetch" href="/assets/index.html.e8114be5.js" as="script" /><link rel="prefetch" href="/assets/index.html.f2cde60c.js" as="script" /><link rel="prefetch" href="/assets/index.html.eb99c524.js" as="script" /><link rel="prefetch" href="/assets/index.html.530a9b58.js" as="script" /><link rel="prefetch" href="/assets/index.html.f63f9b5f.js" as="script" /><link rel="prefetch" href="/assets/index.html.a7bbd03a.js" as="script" /><link rel="prefetch" href="/assets/index.html.80849013.js" as="script" /><link rel="prefetch" href="/assets/index.html.4e71f075.js" as="script" /><link rel="prefetch" href="/assets/index.html.bb1d843f.js" as="script" /><link rel="prefetch" href="/assets/index.html.3d7b28ba.js" as="script" /><link rel="prefetch" href="/assets/giscus.97d20491.js" as="script" /><link rel="prefetch" href="/assets/highlight.esm.8c0810ff.js" as="script" /><link rel="prefetch" href="/assets/markdown.esm.6b040232.js" as="script" /><link rel="prefetch" href="/assets/math.esm.a1d69f4d.js" as="script" /><link rel="prefetch" href="/assets/notes.esm.f1c5dda5.js" as="script" /><link rel="prefetch" href="/assets/reveal.esm.c48207e7.js" as="script" /><link rel="prefetch" href="/assets/search.esm.0d31037c.js" as="script" /><link rel="prefetch" href="/assets/zoom.esm.28df971e.js" as="script" /><link rel="prefetch" href="/assets/photoswipe.esm.7ebdf99b.js" as="script" /><link rel="prefetch" href="/assets/SearchResult.1567e62e.js" as="script" />
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container no-sidebar has-toc"><!--[--><!--[--><header class="navbar"><div class="navbar-left"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><a href="/" class="brand"><img class="logo" src="https://cdn.yihuiblog.top/images/logo-for-blog.jpg" alt="Yihui&#39;s Blog"><!----><span class="site-name hide-in-pad">Yihui&#39;s Blog</span></a><!--[--><!----><!--]--></div><div class="navbar-center"><!--[--><!----><!--]--><nav class="nav-links"><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" aria-label="首页"><!---->首页<!----></a></div><div class="nav-item hide-in-mobile"><a href="/%E4%B8%AA%E4%BA%BA%E7%AE%80%E4%BB%8B.html" class="nav-link" aria-label="关于"><!---->关于<!----></a></div><div class="nav-item hide-in-mobile"><a href="/star" class="nav-link" aria-label="收藏"><!---->收藏<!----></a></div><div class="nav-item hide-in-mobile"><a href="/%E6%A0%A1%E6%8B%9B/%E7%9F%A5%E8%AF%86%E5%A4%A7%E7%BA%B2.html" class="nav-link" aria-label="知识大纲"><!---->知识大纲<!----></a></div><div class="nav-item hide-in-mobile"><a href="/%E8%BD%AF%E6%8A%80%E8%83%BD/%E7%B2%BE%E9%80%89%E6%96%87%E7%AB%A0%E5%88%97%E8%A1%A8.html" class="nav-link" aria-label="必读文章"><!---->必读文章<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="友链"><span class="title"><!---->友链</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="https://lwmc.net" rel="noopener noreferrer" target="_blank" aria-label="辉光世界官网" class="nav-link"><!---->辉光世界官网<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li><li class="dropdown-item"><a href="http://182.61.38.183:3000/home" rel="noopener noreferrer" target="_blank" aria-label="DiF1202 博客" class="nav-link"><!---->DiF1202 博客<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></li></ul></button></div></div></nav><!--[--><!----><!--]--></div><div class="navbar-right"><!--[--><!----><!--]--><!----><div class="nav-item"><a class="repo-link" href="https://github.com/MoMeak9/MyBlogDoc" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><div class="search-pro-button" role="search" aria-label="搜索"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg></div><!--]--><!--[--><!----><!--]--><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!--[--><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Behavior Pattern 行为模式</h1><div class="page-info"><span class="author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="author-item" href="https://yihuiBlog.top" target="_blank" rel="noopener noreferrer">Yihui</a></span><span property="author" content="Yihui"></span></span><!----><span class="date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2021-12-03T00:00:00.000Z"></span><span class="category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><ul class="categories-wrapper"><li><span class="category category2 clickable" role="navigation">设计模式</span></li></ul><meta property="articleSection" content="设计模式"></span><!----><span class="reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 29 分钟</span><meta property="timeRequired" content="PT29M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc"><div class="toc-header">此页内容</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#visitor-访问者" class="router-link-active router-link-exact-active toc-link level2">Visitor 访问者</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#场景" class="router-link-active router-link-exact-active toc-link level3">场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#优缺点" class="router-link-active router-link-exact-active toc-link level3">优缺点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#关系" class="router-link-active router-link-exact-active toc-link level3">关系</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#command-命令模式" class="router-link-active router-link-exact-active toc-link level2">Command 命令模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#场景-1" class="router-link-active router-link-exact-active toc-link level3">场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#优缺点-1" class="router-link-active router-link-exact-active toc-link level3">优缺点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#关系-1" class="router-link-active router-link-exact-active toc-link level3">关系</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#code" class="router-link-active router-link-exact-active toc-link level3">Code</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#iterator-迭代器" class="router-link-active router-link-exact-active toc-link level2">Iterator 迭代器</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#场景-2" class="router-link-active router-link-exact-active toc-link level3">场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#优缺点-2" class="router-link-active router-link-exact-active toc-link level3">优缺点</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#mediator-中介者" class="router-link-active router-link-exact-active toc-link level2">Mediator 中介者</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#场景-3" class="router-link-active router-link-exact-active toc-link level3">场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#优缺点-3" class="router-link-active router-link-exact-active toc-link level3">优缺点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#关系-2" class="router-link-active router-link-exact-active toc-link level3">关系</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#strategy-策略模式" class="router-link-active router-link-exact-active toc-link level2">Strategy 策略模式</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#场景-4" class="router-link-active router-link-exact-active toc-link level3">场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#优缺点-4" class="router-link-active router-link-exact-active toc-link level3">优缺点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#关系-3" class="router-link-active router-link-exact-active toc-link level3">关系</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#template-method-模板方法" class="router-link-active router-link-exact-active toc-link level2">Template Method 模板方法</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#场景-5" class="router-link-active router-link-exact-active toc-link level3">场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#优缺点-5" class="router-link-active router-link-exact-active toc-link level3">优缺点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#关系-4" class="router-link-active router-link-exact-active toc-link level3">关系</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#code-1" class="router-link-active router-link-exact-active toc-link level3">Code</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#chain-of-responsibility-责任链" class="router-link-active router-link-exact-active toc-link level2">Chain of Responsibility 责任链</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#场景-6" class="router-link-active router-link-exact-active toc-link level3">场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#优缺点-6" class="router-link-active router-link-exact-active toc-link level3">优缺点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#关系-5" class="router-link-active router-link-exact-active toc-link level3">关系</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#memento-备忘录" class="router-link-active router-link-exact-active toc-link level2">Memento 备忘录</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#场景-7" class="router-link-active router-link-exact-active toc-link level3">场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#优缺点-7" class="router-link-active router-link-exact-active toc-link level3">优缺点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#关系-6" class="router-link-active router-link-exact-active toc-link level3">关系</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#code-2" class="router-link-active router-link-exact-active toc-link level3">Code</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#state-状态" class="router-link-active router-link-exact-active toc-link level2">State 状态</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#场景-8" class="router-link-active router-link-exact-active toc-link level3">场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#优缺点-8" class="router-link-active router-link-exact-active toc-link level3">优缺点</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#关系-7" class="router-link-active router-link-exact-active toc-link level3">关系</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#observer-观察者" class="router-link-active router-link-exact-active toc-link level2">Observer 观察者</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#场景-9" class="router-link-active router-link-exact-active toc-link level3">场景</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/Behavior%20Pattern%20%E8%A1%8C%E4%B8%BA%E6%A8%A1%E5%BC%8F.html#优缺点-9" class="router-link-active router-link-exact-active toc-link level3">优缺点</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><h1 id="behavior-pattern-行为模式" tabindex="-1"><a class="header-anchor" href="#behavior-pattern-行为模式" aria-hidden="true">#</a> Behavior Pattern 行为模式</h1><blockquote><p>文章内容整理自：https://refactoringguru.cn/</p></blockquote><h2 id="visitor-访问者" tabindex="-1"><a class="header-anchor" href="#visitor-访问者" aria-hidden="true">#</a> Visitor 访问者</h2><p><strong>访问者模式</strong>是一种行为设计模式， 它能将算法与其所作用的对象隔离开来。</p><p>The visitor pattern is a behavior design pattern that <strong>isolates</strong> an algorithm from the object it works on.</p><img src="https://cdn.yihuiblog.top/images/202211301147913.png" alt="访问者设计模式的结构" style="zoom:80%;"><ol><li><strong>访问者</strong> （Visitor） 接口声明了一系列以对象结构的具体元素为参数的访问者方法。 如果编程语言支持重载， 这些方法的名称可以是相同的， 但是其参数一定是不同的。</li><li><strong>具体访问者</strong> （Concrete Visitor） 会为不同的具体元素类实现相同行为的几个不同版本。</li><li><strong>元素</strong> （Element） 接口声明了一个方法来 “接收” 访问者。 该方法必须有一个参数被声明为访问者接口类型。</li><li><strong>具体元素</strong> （Concrete Element） 必须实现接收方法。 该方法的目的是根据当前元素类将其调用重定向到相应访问者的方法。 请注意， 即使元素基类实现了该方法， 所有子类都必须对其进行重写并调用访问者对象中的合适方法。</li><li><strong>客户端</strong> （Client） 通常会作为集合或其他复杂对象 （例如一个<a href="https://refactoringguru.cn/design-patterns/composite" target="_blank" rel="noopener noreferrer">组合<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>树） 的代表。 客户端通常不知晓所有的具体元素类， 因为它们会通过抽象接口与集合中的对象进行交互。</li></ol><h3 id="场景" tabindex="-1"><a class="header-anchor" href="#场景" aria-hidden="true">#</a> 场景</h3><ul><li>如果你需要对一个复杂对象结构 （例如对象树） 中的所有元素执行某些操作， 可使用访问者模式。If you need to perform certain operations on all elements in a complex object structure, such as a tree of objects, use the Visitor pattern.</li><li>可使用访问者模式来清理辅助行为的业务逻辑。</li><li>当某个行为仅在类层次结构中的一些类中有意义， 而在其他类中没有意义时， 可使用该模式。</li></ul><h3 id="优缺点" tabindex="-1"><a class="header-anchor" href="#优缺点" aria-hidden="true">#</a> 优缺点</h3><p><strong>优点：</strong></p><ul><li><em><strong>开闭原则</strong></em>。 你可以引入在不同类对象上执行的新行为， 且无需对这些类做出修改。</li><li><em><strong>单一职责原则</strong></em>。 可将同一行为的不同版本移到同一个类中。</li><li>访问者对象可以在与各种对象交互时收集一些有用的信息。 当你想要遍历一些复杂的对象结构 （例如对象树）， 并在结构中的每个对象上应用访问者时， 这些信息可能会有所帮助。</li></ul><h3 id="关系" tabindex="-1"><a class="header-anchor" href="#关系" aria-hidden="true">#</a> 关系</h3><ul><li>你可以将<a href="https://refactoringguru.cn/design-patterns/visitor" target="_blank" rel="noopener noreferrer">访问者模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>视为<a href="https://refactoringguru.cn/design-patterns/command" target="_blank" rel="noopener noreferrer">命令模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的加强版本， 其对象可对不同类的多种对象执行操作。</li><li>你可以使用<a href="https://refactoringguru.cn/design-patterns/visitor" target="_blank" rel="noopener noreferrer">访问者<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>对整个<a href="https://refactoringguru.cn/design-patterns/composite" target="_blank" rel="noopener noreferrer">组合模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>树执行操作。</li><li>可以同时使用<a href="https://refactoringguru.cn/design-patterns/visitor" target="_blank" rel="noopener noreferrer">访问者<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://refactoringguru.cn/design-patterns/iterator" target="_blank" rel="noopener noreferrer">迭代器模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>来遍历复杂数据结构， 并对其中的元素执行所需操作， 即使这些元素所属的类完全不同。</li></ul><h2 id="command-命令模式" tabindex="-1"><a class="header-anchor" href="#command-命令模式" aria-hidden="true">#</a> Command 命令模式</h2><p><strong>命令模式</strong>是一种行为设计模式， 它可将请求转换为一个包含与请求相关的所有信息的独立对象。 该转换让你能根据不同的请求将方法参数化、 延迟请求执行或将其放入队列中， 且能实现可撤销操作。</p><p><strong>Command pattern</strong> is a behavior design pattern that transforms a request into a single object that contains all the information associated with the request. This transformation allows you to parameterize methods, delay request execution, or queue them based on different requests, and implement undoable operations.</p><img src="https://cdn.yihuiblog.top/images/202211301147254.png" alt="命令设计模式的结构" style="zoom:80%;"><ol><li><p><strong>发送者</strong> （Sender）——亦称 “触发者 （Invoker）”——类负责对请求进行初始化， 其中必须包含一个成员变量来存储对于命令对象的引用。 发送者触发命令， 而不向接收者直接发送请求。 注意， 发送者并不负责创建命令对象： 它通常会通过构造函数从客户端处获得预先生成的命令。</p></li><li><p><strong>命令</strong> （Command） 接口通常仅声明一个执行命令的方法。</p></li><li><p><strong>具体命令</strong> （Concrete Commands） 会实现各种类型的请求。 具体命令自身并不完成工作， 而是会将调用委派给一个业务逻辑对象。 但为了简化代码， 这些类可以进行合并。</p><p>接收对象执行方法所需的参数可以声明为具体命令的成员变量。 你可以将命令对象设为不可变， 仅允许通过构造函数对这些成员变量进行初始化。</p></li><li><p><strong>接收者</strong> （Receiver） 类包含部分业务逻辑。 几乎任何对象都可以作为接收者。 绝大部分命令只处理如何将请求传递到接收者的细节， 接收者自己会完成实际的工作。</p></li><li><p><strong>客户端</strong> （Client） 会创建并配置具体命令对象。 客户端必须将包括接收者实体在内的所有请求参数传递给命令的构造函数。 此后， 生成的命令就可以与一个或多个发送者相关联了。</p></li></ol><h3 id="场景-1" tabindex="-1"><a class="header-anchor" href="#场景-1" aria-hidden="true">#</a> 场景</h3><ul><li>如果你需要通过操作来参数化对象， 可使用命令模式。</li><li>如果你想要将操作放入队列中、 操作的执行或者远程执行操作， 可使用命令模式。</li><li>如果你想要实现操作回滚功能， 可使用命令模式。</li></ul><h3 id="优缺点-1" tabindex="-1"><a class="header-anchor" href="#优缺点-1" aria-hidden="true">#</a> 优缺点</h3><p><strong>优点：</strong></p><ul><li><em>单一职责原则</em>。 你可以解耦触发和执行操作的类。</li><li><em>开闭原则</em>。 你可以在不修改已有客户端代码的情况下在程序中创建新的命令。</li><li>你可以实现撤销和恢复功能。</li><li>你可以实现操作的延迟执行。</li><li>你可以将一组简单命令组合成一个复杂命令。</li></ul><p><strong>缺点：</strong></p><ul><li>代码可能会变得更加复杂， 因为你在发送者和接收者之间增加了一个全新的层次。</li></ul><h3 id="关系-1" tabindex="-1"><a class="header-anchor" href="#关系-1" aria-hidden="true">#</a> 关系</h3><ul><li><p><a href="https://refactoringguru.cn/design-patterns/chain-of-responsibility" target="_blank" rel="noopener noreferrer">责任链模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、 <a href="https://refactoringguru.cn/design-patterns/command" target="_blank" rel="noopener noreferrer">命令模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、 <a href="https://refactoringguru.cn/design-patterns/mediator" target="_blank" rel="noopener noreferrer">中介者模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://refactoringguru.cn/design-patterns/observer" target="_blank" rel="noopener noreferrer">观察者模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>用于处理请求发送者和接收者之间的不同连接方式：</p><ul><li><em>责任链</em>按照顺序将请求动态传递给一系列的潜在接收者， 直至其中一名接收者对请求进行处理。</li><li><em>命令</em>在发送者和请求者之间建立单向连接。</li><li><em>中介者</em>清除了发送者和请求者之间的直接连接， 强制它们通过一个中介对象进行间接沟通。</li><li><em>观察者</em>允许接收者动态地订阅或取消接收请求。</li></ul></li><li><p><a href="https://refactoringguru.cn/design-patterns/chain-of-responsibility" target="_blank" rel="noopener noreferrer">责任链<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的管理者可使用<a href="https://refactoringguru.cn/design-patterns/command" target="_blank" rel="noopener noreferrer">命令模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>实现。 在这种情况下， 你可以对由请求代表的同一个上下文对象执行许多不同的操作。</p><p>还有另外一种实现方式， 那就是请求自身就是一个<em>命令</em>对象。 在这种情况下， 你可以对由一系列不同上下文连接而成的链执行相同的操作。</p></li><li><p>你可以同时使用<a href="https://refactoringguru.cn/design-patterns/command" target="_blank" rel="noopener noreferrer">命令<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://refactoringguru.cn/design-patterns/memento" target="_blank" rel="noopener noreferrer">备忘录模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>来实现 “撤销”。 在这种情况下， 命令用于对目标对象执行各种不同的操作， 备忘录用来保存一条命令执行前该对象的状态。</p></li><li><p><a href="https://refactoringguru.cn/design-patterns/command" target="_blank" rel="noopener noreferrer">命令<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://refactoringguru.cn/design-patterns/strategy" target="_blank" rel="noopener noreferrer">策略模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>看上去很像， 因为两者都能通过某些行为来参数化对象。 但是， 它们的意图有非常大的不同。</p><ul><li>你可以使用<em>命令</em>来将任何操作转换为对象。 操作的参数将成为对象的成员变量。 你可以通过转换来延迟操作的执行、 将操作放入队列、 保存历史命令或者向远程服务发送命令等。</li><li>另一方面， <em>策略</em>通常可用于描述完成某件事的不同方式， 让你能够在同一个上下文类中切换算法。</li></ul></li><li><p><a href="https://refactoringguru.cn/design-patterns/prototype" target="_blank" rel="noopener noreferrer">原型模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>可用于保存<a href="https://refactoringguru.cn/design-patterns/command" target="_blank" rel="noopener noreferrer">命令<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的历史记录。</p></li><li><p>你可以将<a href="https://refactoringguru.cn/design-patterns/visitor" target="_blank" rel="noopener noreferrer">访问者模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>视为<a href="https://refactoringguru.cn/design-patterns/command" target="_blank" rel="noopener noreferrer">命令模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的加强版本， 其对象可对不同类的多种对象执行操作。</p></li></ul><h3 id="code" tabindex="-1"><a class="header-anchor" href="#code" aria-hidden="true">#</a> Code</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> abc <span class="token keyword">import</span> ABC<span class="token punctuation">,</span> abstractmethod


<span class="token keyword">class</span> <span class="token class-name">Command</span><span class="token punctuation">(</span>ABC<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token decorator annotation punctuation">@abstractmethod</span>
    <span class="token keyword">def</span> <span class="token function">execute</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>


<span class="token keyword">class</span> <span class="token class-name">SimpleCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> payload<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_payload <span class="token operator">=</span> payload

    <span class="token keyword">def</span> <span class="token function">execute</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;SimpleCommand: See, I can do simple things like printing&quot;</span></span>
              <span class="token string-interpolation"><span class="token string">f&quot;(</span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>_payload<span class="token punctuation">}</span></span><span class="token string">)&quot;</span></span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">ComplexCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">)</span><span class="token punctuation">:</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> receiver<span class="token punctuation">:</span> Receiver<span class="token punctuation">,</span> a<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_receiver <span class="token operator">=</span> receiver
        self<span class="token punctuation">.</span>_a <span class="token operator">=</span> a
        self<span class="token punctuation">.</span>_b <span class="token operator">=</span> b

    <span class="token keyword">def</span> <span class="token function">execute</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;ComplexCommand: Complex stuff should be done by a receiver object&quot;</span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>_receiver<span class="token punctuation">.</span>do_something<span class="token punctuation">(</span>self<span class="token punctuation">.</span>_a<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>_receiver<span class="token punctuation">.</span>do_something_else<span class="token punctuation">(</span>self<span class="token punctuation">.</span>_b<span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Receiver</span><span class="token punctuation">:</span>
    
    <span class="token keyword">def</span> <span class="token function">do_something</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> a<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\nReceiver: Working on (</span><span class="token interpolation"><span class="token punctuation">{</span>a<span class="token punctuation">}</span></span><span class="token string">.)&quot;</span></span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">do_something_else</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;\nReceiver: Also working on (</span><span class="token interpolation"><span class="token punctuation">{</span>b<span class="token punctuation">}</span></span><span class="token string">.)&quot;</span></span><span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">Invoker</span><span class="token punctuation">:</span>
    
    _on_start <span class="token operator">=</span> <span class="token boolean">None</span>
    _on_finish <span class="token operator">=</span> <span class="token boolean">None</span>

    <span class="token keyword">def</span> <span class="token function">set_on_start</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> command<span class="token punctuation">:</span> Command<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_on_start <span class="token operator">=</span> command

    <span class="token keyword">def</span> <span class="token function">set_on_finish</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> command<span class="token punctuation">:</span> Command<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_on_finish <span class="token operator">=</span> command

    <span class="token keyword">def</span> <span class="token function">do_something_important</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Invoker: Does anybody want something done before I begin?&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>_on_start<span class="token punctuation">,</span> Command<span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>_on_start<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token punctuation">)</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Invoker: ...doing something really important...&quot;</span><span class="token punctuation">)</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Invoker: Does anybody want something done after I finish?&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">if</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>_on_finish<span class="token punctuation">,</span> Command<span class="token punctuation">)</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>_on_finish<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>
    invoker <span class="token operator">=</span> Invoker<span class="token punctuation">(</span><span class="token punctuation">)</span>
    invoker<span class="token punctuation">.</span>set_on_start<span class="token punctuation">(</span>SimpleCommand<span class="token punctuation">(</span><span class="token string">&quot;Say Hi!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    receiver <span class="token operator">=</span> Receiver<span class="token punctuation">(</span><span class="token punctuation">)</span>
    invoker<span class="token punctuation">.</span>set_on_finish<span class="token punctuation">(</span>ComplexCommand<span class="token punctuation">(</span>
        receiver<span class="token punctuation">,</span> <span class="token string">&quot;Send email&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Save report&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    invoker<span class="token punctuation">.</span>do_something_important<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="iterator-迭代器" tabindex="-1"><a class="header-anchor" href="#iterator-迭代器" aria-hidden="true">#</a> Iterator 迭代器</h2><p><strong>迭代器模式</strong>是一种行为设计模式， 让你能在不暴露集合底层表现形式 （列表、 栈和树等） 的情况下遍历集合中所有的元素。The iterator pattern is a behavioral design pattern that lets you iterate through all the elements of a collection <strong>without exposing the underlying representation of the collection</strong> (lists, stacks, trees, etc.).</p><img src="https://cdn.yihuiblog.top/images/202211301147306.png" alt="迭代器设计模式的结构" style="zoom:80%;"><ol><li><p><strong>迭代器</strong> （Iterator） 接口声明了遍历集合所需的操作： 获取下一个元素、 获取当前位置和重新开始迭代等。</p></li><li><p><strong>具体迭代器</strong> （Concrete Iterators） 实现遍历集合的一种特定算法。 迭代器对象必须跟踪自身遍历的进度。 这使得多个迭代器可以相互独立地遍历同一集合。</p></li><li><p><strong>集合</strong> （Collection） 接口声明一个或多个方法来获取与集合兼容的迭代器。 请注意， 返回方法的类型必须被声明为迭代器接口， 因此具体集合可以返回各种不同种类的迭代器。</p></li><li><p><strong>具体集合</strong> （Concrete Collections） 会在客户端请求迭代器时返回一个特定的具体迭代器类实体。 你可能会琢磨， 剩下的集合代码在什么地方呢？ 不用担心， 它也会在同一个类中。 只是这些细节对于实际模式来说并不重要， 所以我们将其省略了而已。</p></li><li><p><strong>客户端</strong> （Client） 通过集合和迭代器的接口与两者进行交互。 这样一来客户端无需与具体类进行耦合， 允许同一客户端代码使用各种不同的集合和迭代器。</p><p>客户端通常不会自行创建迭代器， 而是会从集合中获取。 但在特定情况下， 客户端可以直接创建一个迭代器 （例如当客户端需要自定义特殊迭代器时）。</p></li></ol><h3 id="场景-2" tabindex="-1"><a class="header-anchor" href="#场景-2" aria-hidden="true">#</a> 场景</h3><ul><li>当集合背后为复杂的数据结构， 且你希望对客户端隐藏其复杂性时 （出于使用便利性或安全性的考虑）， 可以使用迭代器模式。</li><li>使用该模式可以减少程序中重复的遍历代码。</li><li>如果你希望代码能够遍历不同的甚至是无法预知的数据结构， 可以使用迭代器模式。</li></ul><h3 id="优缺点-2" tabindex="-1"><a class="header-anchor" href="#优缺点-2" aria-hidden="true">#</a> 优缺点</h3><p><strong>优点：</strong></p><ul><li>单一职责原则 Single responsibility principle。 通过将体积庞大的遍历算法代码抽取为独立的类， 你可对客户端代码和集合进行整理。</li><li>开闭原则 The open closed principle。 你可实现新型的集合和迭代器并将其传递给现有代码， 无需修改现有代码。</li><li>你可以并行遍历同一集合， 因为每个迭代器对象都包含其自身的遍历状态。</li><li>相似的， 你可以暂停遍历并在需要时继续。</li></ul><p><strong>缺点：</strong></p><ul><li>如果你的程序只与简单的集合进行交互， 应用该模式可能会矫枉过正。</li><li>对于某些特殊集合， 使用迭代器可能比直接遍历的效率低。</li></ul><h2 id="mediator-中介者" tabindex="-1"><a class="header-anchor" href="#mediator-中介者" aria-hidden="true">#</a> Mediator 中介者</h2><p><strong>中介者模式</strong>是一种行为设计模式， 能让你减少对象之间混乱无序的依赖关系。 该模式会限制对象之间的直接交互， 迫使它们通过一个中介者对象进行合作。</p><p>The Mediator pattern is a behavior design pattern that allows you to reduce chaotic dependencies between objects. This pattern restricts direct interaction between objects, forcing them to collaborate through a mediator object.</p><img src="https://cdn.yihuiblog.top/images/202211301147026.png" alt="中介者设计模式的结构" style="zoom:80%;"><ol><li><p><strong>组件</strong> （Component） 是各种包含业务逻辑的类。 每个组件都有一个指向中介者的引用， 该引用被声明为中介者接口类型。 组件不知道中介者实际所属的类， 因此你可通过将其连接到不同的中介者以使其能在其他程序中复用。</p></li><li><p><strong>中介者</strong> （Mediator） 接口声明了与组件交流的方法， 但通常仅包括一个通知方法。 组件可将任意上下文 （包括自己的对象） 作为该方法的参数， 只有这样接收组件和发送者类之间才不会耦合。</p></li><li><p><strong>具体中介者</strong> （Concrete Mediator） 封装了多种组件间的关系。 具体中介者通常会保存所有组件的引用并对其进行管理， 甚至有时会对其生命周期进行管理。</p></li><li><p>组件并不知道其他组件的情况。 如果组件内发生了重要事件， 它只能通知中介者。 中介者收到通知后能轻易地确定发送者， 这或许已足以判断接下来需要触发的组件了。</p><p>对于组件来说， 中介者看上去完全就是一个黑箱。 发送者不知道最终会由谁来处理自己的请求， 接收者也不知道最初是谁发出了请求。</p></li></ol><h3 id="场景-3" tabindex="-1"><a class="header-anchor" href="#场景-3" aria-hidden="true">#</a> 场景</h3><ul><li>当一些对象和其他对象紧密耦合以致难以对其进行修改时， 可使用中介者模式。</li><li>当组件因过于依赖其他组件而无法在不同应用中复用时， 可使用中介者模式。</li><li>如果为了能在不同情景下复用一些基本行为， 导致你需要被迫创建大量组件子类时， 可使用中介者模式。</li></ul><h3 id="优缺点-3" tabindex="-1"><a class="header-anchor" href="#优缺点-3" aria-hidden="true">#</a> 优缺点</h3><p><strong>优点：</strong></p><ul><li><em>单一职责原则</em>。 你可以将多个组件间的交流抽取到同一位置， 使其更易于理解和维护。</li><li><em>开闭原则</em>。 你无需修改实际组件就能增加新的中介者。</li><li>你可以减轻应用中多个组件间的耦合情况。</li><li>你可以更方便地复用各个组件。</li></ul><p><strong>缺点：</strong></p><ul><li>一段时间后， 中介者可能会演化成为<a href="https://refactoringguru.cn/antipatterns/god-object" target="_blank" rel="noopener noreferrer">上帝对象<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</li></ul><h3 id="关系-2" tabindex="-1"><a class="header-anchor" href="#关系-2" aria-hidden="true">#</a> 关系</h3><ul><li><a href="https://refactoringguru.cn/design-patterns/chain-of-responsibility" target="_blank" rel="noopener noreferrer">责任链模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、 <a href="https://refactoringguru.cn/design-patterns/command" target="_blank" rel="noopener noreferrer">命令模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、 <a href="https://refactoringguru.cn/design-patterns/mediator" target="_blank" rel="noopener noreferrer">中介者模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://refactoringguru.cn/design-patterns/observer" target="_blank" rel="noopener noreferrer">观察者模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>用于处理请求发送者和接收者之间的不同连接方式： <ul><li><em>责任链</em>按照顺序将请求动态传递给一系列的潜在接收者， 直至其中一名接收者对请求进行处理。</li><li><em>命令</em>在发送者和请求者之间建立单向连接。</li><li><em>中介者</em>清除了发送者和请求者之间的直接连接， 强制它们通过一个中介对象进行间接沟通。</li><li><em>观察者</em>允许接收者动态地订阅或取消接收请求。</li></ul></li></ul><h2 id="strategy-策略模式" tabindex="-1"><a class="header-anchor" href="#strategy-策略模式" aria-hidden="true">#</a> Strategy 策略模式</h2><p><strong>策略模式</strong>是一种行为设计模式， 它能让你定义一系列算法， 并将每种算法分别放入独立的类中， 以使算法的对象能够相互替换。</p><p>The strategy pattern is a behavior design pattern that allows you to define a series of algorithms and place each algorithm in a separate class so that the objects of the algorithm are interchangeable.</p><img src="https://cdn.yihuiblog.top/images/202211301147310.png" alt="策略设计模式的结构" style="zoom:80%;"><ol><li><strong>上下文</strong> （Context） 维护指向具体策略的引用， 且仅通过策略接口与该对象进行交流。</li><li><strong>策略</strong> （Strategy） 接口是所有具体策略的通用接口， 它声明了一个上下文用于执行策略的方法。</li><li><strong>具体策略</strong> （Concrete Strategies） 实现了上下文所用算法的各种不同变体。</li><li>当上下文需要运行算法时， 它会在其已连接的策略对象上调用执行方法。 上下文不清楚其所涉及的策略类型与算法的执行方式。</li><li><strong>客户端</strong> （Client） 会创建一个特定策略对象并将其传递给上下文。 上下文则会提供一个设置器以便客户端在运行时替换相关联的策略。</li></ol><h3 id="场景-4" tabindex="-1"><a class="header-anchor" href="#场景-4" aria-hidden="true">#</a> 场景</h3><ul><li>当你有许多仅在执行某些行为时略有不同的相似类时， 可使用策略模式。</li><li>如果算法在上下文逻辑中不是特别重要， 使用该模式能将类的业务逻辑与其算法实现细节隔离开来。</li><li>当类中使用了复杂条件运算符以在同一算法的不同变体中切换时， 可使用该模式。</li></ul><h3 id="优缺点-4" tabindex="-1"><a class="header-anchor" href="#优缺点-4" aria-hidden="true">#</a> 优缺点</h3><p><strong>优点：</strong></p><ul><li>你可以在运行时切换对象内的算法。</li><li>你可以将算法的实现和使用算法的代码隔离开来。</li><li>你可以使用组合来代替继承。</li><li><em>开闭原则</em>。 你无需对上下文进行修改就能够引入新的策略。</li></ul><p><strong>缺点：</strong></p><ul><li>如果你的算法极少发生改变， 那么没有任何理由引入新的类和接口。 使用该模式只会让程序过于复杂。</li><li>客户端必须知晓策略间的不同——它需要选择合适的策略。</li><li>许多现代编程语言支持函数类型功能， 允许你在一组匿名函数中实现不同版本的算法。 这样， 你使用这些函数的方式就和使用策略对象时完全相同， 无需借助额外的类和接口来保持代码简洁。</li></ul><h3 id="关系-3" tabindex="-1"><a class="header-anchor" href="#关系-3" aria-hidden="true">#</a> 关系</h3><ul><li><p><strong>模板方法模式</strong>基于继承机制： 它允许你通过扩展子类中的部分内容来改变部分算法。 <strong>策略</strong>基于组合机制： 你可以通过对相应行为提供不同的策略来改变对象的部分行为。 模板方法在类层次上运作， 因此它是静态的。 策略在对象层次上运作， 因此允许在运行时切换行为。</p><p><strong>The template method pattern</strong> is based on inheritance: it allows you to change part of the algorithm by extending part of the subclass. <strong>Strategies</strong> Based on composition: You can change part of an object&#39;s behavior by providing different strategies for corresponding behaviors. A template method operates at the class level, so it is static. Policies operate at the object level, thus allowing behavior to be switched at run time.</p></li></ul><h2 id="template-method-模板方法" tabindex="-1"><a class="header-anchor" href="#template-method-模板方法" aria-hidden="true">#</a> Template Method 模板方法</h2><p><strong>模板方法模式</strong>是一种行为设计模式， 它在超类中定义了一个算法的框架， 允许子类在不修改结构的情况下重写算法的特定步骤。</p><p>The <strong>template method pattern</strong> is a behavior design pattern that defines the framework of an algorithm in a superclass, allowing subclasses to override specific steps of the algorithm without modifying the structure.</p><img src="https://cdn.yihuiblog.top/images/202211301147375.png" alt="模板方法设计模式的结构" style="zoom:80%;"><ol><li><strong>抽象类</strong> （Abstract­Class） 会声明作为算法步骤的方法， 以及依次调用它们的实际模板方法。 算法步骤可以被声明为 <code>抽象</code>类型， 也可以提供一些默认实现。</li><li><strong>具体类</strong> （Concrete­Class） 可以重写所有步骤， 但不能重写模板方法自身。</li></ol><h3 id="场景-5" tabindex="-1"><a class="header-anchor" href="#场景-5" aria-hidden="true">#</a> 场景</h3><ul><li>当你只希望客户端扩展某个特定算法步骤， 而不是整个算法或其结构时， 可使用模板方法模式。</li><li>当多个类的算法除一些细微不同之外几乎完全一样时， 你可使用该模式。 但其后果就是， 只要算法发生变化， 你就可能需要修改所有的类。</li></ul><h3 id="优缺点-5" tabindex="-1"><a class="header-anchor" href="#优缺点-5" aria-hidden="true">#</a> 优缺点</h3><p><strong>优点：</strong></p><ul><li>你可仅允许客户端重写一个大型算法中的特定部分， 使得算法其他部分修改对其所造成的影响减小。</li><li>你可将重复代码提取到一个超类中。</li></ul><p><strong>缺点：</strong></p><ul><li>部分客户端可能会受到算法框架的限制。</li><li>模板方法中的步骤越多， 其维护工作就可能会越困难。</li></ul><h3 id="关系-4" tabindex="-1"><a class="header-anchor" href="#关系-4" aria-hidden="true">#</a> 关系</h3><ul><li><a href="https://refactoringguru.cn/design-patterns/factory-method" target="_blank" rel="noopener noreferrer">工厂方法模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>是<a href="https://refactoringguru.cn/design-patterns/template-method" target="_blank" rel="noopener noreferrer">模板方法模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的一种特殊形式。 同时， <em>工厂方法</em>可以作为一个大型<em>模板方法</em>中的一个步骤。</li></ul><h3 id="code-1" tabindex="-1"><a class="header-anchor" href="#code-1" aria-hidden="true">#</a> Code</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">from</span> abc <span class="token keyword">import</span> ABC<span class="token punctuation">,</span> abstractmethod


<span class="token keyword">class</span> <span class="token class-name">HouseTemplate</span><span class="token punctuation">(</span>ABC<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">buildHouse</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>buildFoundation<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>buildWalls<span class="token punctuation">(</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>buildWindows<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;House is build&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">buildFoundation</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Building Glass Windows&quot;</span><span class="token punctuation">)</span>

    <span class="token decorator annotation punctuation">@abstractmethod</span>
    <span class="token keyword">def</span> <span class="token function">buildWalls</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

    <span class="token keyword">def</span> <span class="token function">buildWindows</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Building foundation with cement,iron rods and sand&quot;</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">WoodenHouseand</span><span class="token punctuation">(</span>HouseTemplate<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">buildWalls</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Building Wooden Walls&quot;</span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">GlassHouse</span><span class="token punctuation">(</span>HouseTemplate<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">buildWalls</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Building Glass Walls&quot;</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">client_code</span><span class="token punctuation">(</span>abstract_class<span class="token punctuation">:</span> HouseTemplate<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token comment"># ...</span>
    abstract_class<span class="token punctuation">.</span>buildHouse<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment"># ...</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;the result is as following:&quot;</span><span class="token punctuation">)</span>
    client_code<span class="token punctuation">(</span>WoodenHouseand<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;****************&quot;</span><span class="token punctuation">)</span>
    client_code<span class="token punctuation">(</span>GlassHouse<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="chain-of-responsibility-责任链" tabindex="-1"><a class="header-anchor" href="#chain-of-responsibility-责任链" aria-hidden="true">#</a> Chain of Responsibility 责任链</h2><p><strong>责任链模式</strong>是一种行为设计模式， 允许你将请求沿着处理者链进行发送。 收到请求后， 每个处理者均可对请求进行处理， 或将其传递给链上的下个处理者。</p><p>The chain of responsibility pattern is a behavior design pattern that allows you to send requests down a chain of handlers. Upon receipt of the request, each handler can either process it or pass it on to the next handler on the chain.</p><img src="https://cdn.yihuiblog.top/images/202211301147233.png" alt="责任链设计模式的结构" style="zoom:80%;"><ol><li><p><strong>处理者</strong> （Handler） 声明了所有具体处理者的通用接口。 该接口通常仅包含单个方法用于请求处理， 但有时其还会包含一个设置链上下个处理者的方法。</p></li><li><p><strong>基础处理者</strong> （Base Handler） 是一个可选的类， 你可以将所有处理者共用的样本代码放置在其中。</p><p>通常情况下， 该类中定义了一个保存对于下个处理者引用的成员变量。 客户端可通过将处理者传递给上个处理者的构造函数或设定方法来创建链。 该类还可以实现默认的处理行为： 确定下个处理者存在后再将请求传递给它。</p></li><li><p><strong>具体处理者</strong> （Concrete Handlers） 包含处理请求的实际代码。 每个处理者接收到请求后， 都必须决定是否进行处理， 以及是否沿着链传递请求。</p><p>处理者通常是独立且不可变的， 需要通过构造函数一次性地获得所有必要地数据。</p></li><li><p><strong>客户端</strong> （Client） 可根据程序逻辑一次性或者动态地生成链。 值得注意的是， 请求可发送给链上的任意一个处理者， 而非必须是第一个处理者。</p></li></ol><h3 id="场景-6" tabindex="-1"><a class="header-anchor" href="#场景-6" aria-hidden="true">#</a> 场景</h3><ul><li>当程序需要使用不同方式处理不同种类请求， 而且请求类型和顺序预先未知时， 可以使用责任链模式。</li><li>当必须按顺序执行多个处理者时， 可以使用该模式。</li><li>如果所需处理者及其顺序必须在运行时进行改变， 可以使用责任链模式。</li></ul><h3 id="优缺点-6" tabindex="-1"><a class="header-anchor" href="#优缺点-6" aria-hidden="true">#</a> 优缺点</h3><p><strong>优点：</strong></p><ul><li>你可以控制请求处理的顺序。</li><li><em>单一职责原则</em>。 你可对发起操作和执行操作的类进行解耦。</li><li><em>开闭原则</em>。 你可以在不更改现有代码的情况下在程序中新增处理者。</li></ul><p><strong>缺点：</strong></p><ul><li>部分请求可能未被处理</li></ul><h3 id="关系-5" tabindex="-1"><a class="header-anchor" href="#关系-5" aria-hidden="true">#</a> 关系</h3><ul><li><a href="https://refactoringguru.cn/design-patterns/chain-of-responsibility" target="_blank" rel="noopener noreferrer">责任链模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、 <a href="https://refactoringguru.cn/design-patterns/command" target="_blank" rel="noopener noreferrer">命令模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、 <a href="https://refactoringguru.cn/design-patterns/mediator" target="_blank" rel="noopener noreferrer">中介者模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://refactoringguru.cn/design-patterns/observer" target="_blank" rel="noopener noreferrer">观察者模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>用于处理请求发送者和接收者之间的不同连接方式： <ul><li><em>责任链</em>按照顺序将请求动态传递给一系列的潜在接收者， 直至其中一名接收者对请求进行处理。</li><li><em>命令</em>在发送者和请求者之间建立单向连接。</li><li><em>中介者</em>清除了发送者和请求者之间的直接连接， 强制它们通过一个中介对象进行间接沟通。</li><li><em>观察者</em>允许接收者动态地订阅或取消接收请求。</li></ul></li></ul><h2 id="memento-备忘录" tabindex="-1"><a class="header-anchor" href="#memento-备忘录" aria-hidden="true">#</a> Memento 备忘录</h2><p><strong>备忘录模式</strong>是一种行为设计模式， 允许在不暴露对象实现细节的情况下保存和恢复对象之前的状态。</p><p><strong>Memento pattern</strong> is a behavioral design pattern that allows an object to be saved and restored to its previous state without exposing its implementation details.</p><h4 id="封装更加严格的实现" tabindex="-1"><a class="header-anchor" href="#封装更加严格的实现" aria-hidden="true">#</a> 封装更加严格的实现</h4><p>如果你不想让其他类有任何机会通过备忘录来访问原发器的状态， 那么还有另一种可用的实现方式。</p><p><img src="https://cdn.yihuiblog.top/images/202211301147886.png" alt="封装更加严格的备忘录"></p><ol><li>这种实现方式允许存在多种不同类型的原发器和备忘录。 每种原发器都和其相应的备忘录类进行交互。 原发器和备忘录都不会将其状态暴露给其他类。</li><li>负责人此时被明确禁止修改存储在备忘录中的状态。 但负责人类将独立于原发器， 因为此时恢复方法被定义在了备忘录类中。</li><li>每个备忘录将与创建了自身的原发器连接。 原发器会将自己及状态传递给备忘录的构造函数。 由于这些类之间的紧密联系， 只要原发器定义了合适的设置器 （setter）， 备忘录就能恢复其状态。</li></ol><h3 id="场景-7" tabindex="-1"><a class="header-anchor" href="#场景-7" aria-hidden="true">#</a> 场景</h3><ul><li>当你需要创建对象状态快照来恢复其之前的状态时， 可以使用备忘录模式。</li><li>当直接访问对象的成员变量、 获取器或设置器将导致封装被突破时， 可以使用该模式。</li></ul><h3 id="优缺点-7" tabindex="-1"><a class="header-anchor" href="#优缺点-7" aria-hidden="true">#</a> 优缺点</h3><p><strong>优点：</strong></p><ul><li>你可以在不破坏对象封装情况的前提下创建对象状态快照。</li><li>你可以通过让负责人维护原发器状态历史记录来简化原发器代码。</li></ul><p><strong>缺点：</strong></p><ul><li>如果客户端过于频繁地创建备忘录， 程序将消耗大量内存。</li><li>负责人必须完整跟踪原发器的生命周期， 这样才能销毁弃用的备忘录。</li><li>绝大部分动态编程语言 （例如 PHP、 Python 和 JavaScript） 不能确保备忘录中的状态不被修改。</li></ul><h3 id="关系-6" tabindex="-1"><a class="header-anchor" href="#关系-6" aria-hidden="true">#</a> 关系</h3><ul><li>你可以同时使用<a href="https://refactoringguru.cn/design-patterns/command" target="_blank" rel="noopener noreferrer">命令模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://refactoringguru.cn/design-patterns/memento" target="_blank" rel="noopener noreferrer">备忘录模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>来实现 “撤销”。 在这种情况下， 命令用于对目标对象执行各种不同的操作， 备忘录用来保存一条命令执行前该对象的状态。</li><li>你可以同时使用<a href="https://refactoringguru.cn/design-patterns/memento" target="_blank" rel="noopener noreferrer">备忘录<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://refactoringguru.cn/design-patterns/iterator" target="_blank" rel="noopener noreferrer">迭代器模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>来获取当前迭代器的状态， 并且在需要的时候进行回滚。</li><li>有时候<a href="https://refactoringguru.cn/design-patterns/prototype" target="_blank" rel="noopener noreferrer">原型模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>可以作为<a href="https://refactoringguru.cn/design-patterns/memento" target="_blank" rel="noopener noreferrer">备忘录<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的一个简化版本， 其条件是你需要在历史记录中存储的对象的状态比较简单， 不需要链接其他外部资源， 或者链接可以方便地重建。</li></ul><h3 id="code-2" tabindex="-1"><a class="header-anchor" href="#code-2" aria-hidden="true">#</a> Code</h3><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> math
<span class="token keyword">from</span> abc <span class="token keyword">import</span> ABC<span class="token punctuation">,</span> abstractmethod


<span class="token keyword">class</span> <span class="token class-name">Memento</span><span class="token punctuation">(</span>ABC<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@abstractmethod</span>
    <span class="token keyword">def</span> <span class="token function">get_state</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

    <span class="token decorator annotation punctuation">@abstractmethod</span>
    <span class="token keyword">def</span> <span class="token function">get_title</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>


<span class="token keyword">class</span> <span class="token class-name">Article</span><span class="token punctuation">:</span>
    _id <span class="token operator">=</span> <span class="token boolean">None</span>
    _title <span class="token operator">=</span> <span class="token boolean">None</span>
    _content <span class="token operator">=</span> <span class="token boolean">None</span>

    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> content<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_id <span class="token operator">=</span> <span class="token builtin">id</span>
        self<span class="token punctuation">.</span>_title <span class="token operator">=</span> title
        self<span class="token punctuation">.</span>_content <span class="token operator">=</span> content

    <span class="token keyword">def</span> <span class="token function">do_something</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Originator: I&#39;m doing something important.&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>_content <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span><span class="token builtin">format</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span>radians<span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token string">&#39;0.2f&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;、&quot;</span> <span class="token operator">+</span> self<span class="token punctuation">.</span>_content
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Originator: and my state has changed to: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>_content<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">save</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> ArticleMemento<span class="token punctuation">(</span>self<span class="token punctuation">.</span>_id<span class="token punctuation">,</span> self<span class="token punctuation">.</span>_title<span class="token punctuation">,</span> self<span class="token punctuation">.</span>_content<span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">restore</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> article<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_content <span class="token operator">=</span> article<span class="token punctuation">.</span>get_state<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Originator: My state has changed to: </span><span class="token interpolation"><span class="token punctuation">{</span>self<span class="token punctuation">.</span>_content<span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>


<span class="token keyword">class</span> <span class="token class-name">ArticleMemento</span><span class="token punctuation">(</span>Memento<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> <span class="token builtin">id</span><span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">,</span> content<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_id <span class="token operator">=</span> <span class="token builtin">id</span>
        self<span class="token punctuation">.</span>_title <span class="token operator">=</span> title
        self<span class="token punctuation">.</span>_content <span class="token operator">=</span> content

    <span class="token keyword">def</span> <span class="token function">get_state</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_content

    <span class="token keyword">def</span> <span class="token function">get_title</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>_title


<span class="token keyword">class</span> <span class="token class-name">Caretaker</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> article<span class="token punctuation">:</span> Article<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>_mementos <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        self<span class="token punctuation">.</span>_originator <span class="token operator">=</span> article

    <span class="token keyword">def</span> <span class="token function">backup</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nCaretaker: Saving Originator&#39;s state...&quot;</span><span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>_mementos<span class="token punctuation">.</span>append<span class="token punctuation">(</span>self<span class="token punctuation">.</span>_originator<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">undo</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">len</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>_mementos<span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span>

        memento <span class="token operator">=</span> self<span class="token punctuation">.</span>_mementos<span class="token punctuation">.</span>pop<span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&quot;Caretaker: Restoring state to: </span><span class="token interpolation"><span class="token punctuation">{</span>memento<span class="token punctuation">.</span>get_title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token string">&quot;</span></span><span class="token punctuation">)</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>_originator<span class="token punctuation">.</span>restore<span class="token punctuation">(</span>memento<span class="token punctuation">)</span>
        <span class="token keyword">except</span> Exception<span class="token punctuation">:</span>
            self<span class="token punctuation">.</span>undo<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">def</span> <span class="token function">show_history</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;Caretaker: Here&#39;s the list of mementos:&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> memento <span class="token keyword">in</span> self<span class="token punctuation">.</span>_mementos<span class="token punctuation">:</span>
            <span class="token keyword">print</span><span class="token punctuation">(</span>memento<span class="token punctuation">.</span>get_title<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token comment"># Test Class(function)</span>
<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>
    originator <span class="token operator">=</span> Article<span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;article1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;这是内容哦&quot;</span><span class="token punctuation">)</span>
    caretaker <span class="token operator">=</span> Caretaker<span class="token punctuation">(</span>originator<span class="token punctuation">)</span>

    caretaker<span class="token punctuation">.</span>backup<span class="token punctuation">(</span><span class="token punctuation">)</span>
    originator<span class="token punctuation">.</span>do_something<span class="token punctuation">(</span><span class="token punctuation">)</span>

    caretaker<span class="token punctuation">.</span>backup<span class="token punctuation">(</span><span class="token punctuation">)</span>
    originator<span class="token punctuation">.</span>do_something<span class="token punctuation">(</span><span class="token punctuation">)</span>

    caretaker<span class="token punctuation">.</span>backup<span class="token punctuation">(</span><span class="token punctuation">)</span>
    originator<span class="token punctuation">.</span>do_something<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    caretaker<span class="token punctuation">.</span>show_history<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nClient: Now, let&#39;s rollback!\n&quot;</span><span class="token punctuation">)</span>
    caretaker<span class="token punctuation">.</span>undo<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;\nClient: Once more!\n&quot;</span><span class="token punctuation">)</span>
    caretaker<span class="token punctuation">.</span>undo<span class="token punctuation">(</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="state-状态" tabindex="-1"><a class="header-anchor" href="#state-状态" aria-hidden="true">#</a> State 状态</h2><p><strong>状态模式</strong>是一种行为设计模式， 让你能在一个对象的内部状态变化时改变其行为， 使其看上去就像改变了自身所属的类一样。</p><p><img src="https://cdn.yihuiblog.top/images/202211301148317.png" alt="状态设计模式的结构"></p><ol><li><p><strong>上下文</strong> （Context） 保存了对于一个具体状态对象的引用， 并会将所有与该状态相关的工作委派给它。 上下文通过状态接口与状态对象交互， 且会提供一个设置器用于传递新的状态对象。</p></li><li><p><strong>状态</strong> （State） 接口会声明特定于状态的方法。 这些方法应能被其他所有具体状态所理解， 因为你不希望某些状态所拥有的方法永远不会被调用。</p></li><li><p><strong>具体状态</strong> （Concrete States） 会自行实现特定于状态的方法。 为了避免多个状态中包含相似代码， 你可以提供一个封装有部分通用行为的中间抽象类。</p><p>状态对象可存储对于上下文对象的反向引用。 状态可以通过该引用从上下文处获取所需信息， 并且能触发状态转移。</p></li><li><p>上下文和具体状态都可以设置上下文的下个状态， 并可通过替换连接到上下文的状态对象来完成实际的状态转换。</p></li></ol><h3 id="场景-8" tabindex="-1"><a class="header-anchor" href="#场景-8" aria-hidden="true">#</a> 场景</h3><ul><li>如果对象需要根据自身当前状态进行不同行为， 同时状态的数量非常多且与状态相关的代码会频繁变更的话， 可使用状态模式。</li><li>如果某个类需要根据成员变量的当前值改变自身行为， 从而需要使用大量的条件语句时， 可使用该模式。</li><li>当相似状态和基于条件的状态机转换中存在许多重复代码时， 可使用状态模式。</li></ul><h3 id="优缺点-8" tabindex="-1"><a class="header-anchor" href="#优缺点-8" aria-hidden="true">#</a> 优缺点</h3><p><strong>优点：</strong></p><ul><li><em>单一职责原则</em>。 将与特定状态相关的代码放在单独的类中。</li><li><em>开闭原则</em>。 无需修改已有状态类和上下文就能引入新状态。</li><li>通过消除臃肿的状态机条件语句简化上下文代码。</li></ul><p><strong>缺点：</strong></p><ul><li>如果状态机只有很少的几个状态， 或者很少发生改变， 那么应用该模式可能会显得小题大作。</li></ul><h3 id="关系-7" tabindex="-1"><a class="header-anchor" href="#关系-7" aria-hidden="true">#</a> 关系</h3><ul><li><a href="https://refactoringguru.cn/design-patterns/bridge" target="_blank" rel="noopener noreferrer">桥接模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>、 <a href="https://refactoringguru.cn/design-patterns/state" target="_blank" rel="noopener noreferrer">状态模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>和<a href="https://refactoringguru.cn/design-patterns/strategy" target="_blank" rel="noopener noreferrer">策略模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> （在某种程度上包括<a href="https://refactoringguru.cn/design-patterns/adapter" target="_blank" rel="noopener noreferrer">适配器模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>） 模式的接口非常相似。 实际上， 它们都基于<a href="https://refactoringguru.cn/design-patterns/composite" target="_blank" rel="noopener noreferrer">组合模式<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>——即将工作委派给其他对象， 不过也各自解决了不同的问题。 模式并不只是以特定方式组织代码的配方， 你还可以使用它们来和其他开发者讨论模式所解决的问题。</li><li><a href="https://refactoringguru.cn/design-patterns/state" target="_blank" rel="noopener noreferrer">状态<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>可被视为<a href="https://refactoringguru.cn/design-patterns/strategy" target="_blank" rel="noopener noreferrer">策略<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的扩展。 两者都基于组合机制： 它们都通过将部分工作委派给 “帮手” 对象来改变其在不同情景下的行为。 <em>策略</em>使得这些对象相互之间完全独立， 它们不知道其他对象的存在。 但<em>状态</em>模式没有限制具体状态之间的依赖， 且允许它们自行改变在不同情景下的状态。</li></ul><h2 id="observer-观察者" tabindex="-1"><a class="header-anchor" href="#observer-观察者" aria-hidden="true">#</a> Observer 观察者</h2><p><strong>观察者模式</strong>是一种行为设计模式， 允许你定义一种订阅机制， 可在对象事件发生时通知多个 “观察” 该对象的其他对象。</p><p>The Observer pattern is a behavior design pattern that allows you to define a subscription mechanism that notifies multiple other objects that &quot;observe&quot; an object when an event occurs.</p><img src="https://cdn.yihuiblog.top/images/202211301148739.png" alt="观察者设计模式的结构" style="zoom:80%;"><ol><li><strong>发布者</strong> （Publisher） 会向其他对象发送值得关注的事件。 事件会在发布者自身状态改变或执行特定行为后发生。 发布者中包含一个允许新订阅者加入和当前订阅者离开列表的订阅构架。</li><li>当新事件发生时， 发送者会遍历订阅列表并调用每个订阅者对象的通知方法。 该方法是在订阅者接口中声明的。</li><li><strong>订阅者</strong> （Subscriber） 接口声明了通知接口。 在绝大多数情况下， 该接口仅包含一个 <code>update</code>更新方法。 该方法可以拥有多个参数， 使发布者能在更新时传递事件的详细信息。</li><li><strong>具体订阅者</strong> （Concrete Subscribers） 可以执行一些操作来回应发布者的通知。 所有具体订阅者类都实现了同样的接口， 因此发布者不需要与具体类相耦合。</li><li>订阅者通常需要一些上下文信息来正确地处理更新。 因此， 发布者通常会将一些上下文数据作为通知方法的参数进行传递。 发布者也可将自身作为参数进行传递， 使订阅者直接获取所需的数据。</li><li><strong>客户端</strong> （Client） 会分别创建发布者和订阅者对象， 然后为订阅者注册发布者更新。</li></ol><h3 id="场景-9" tabindex="-1"><a class="header-anchor" href="#场景-9" aria-hidden="true">#</a> 场景</h3><ul><li>当一个对象状态的改变需要改变其他对象， 或实际对象是事先未知的或动态变化的时， 可使用观察者模式。</li><li>当应用中的一些对象必须观察其他对象时， 可使用该模式。 但仅能在有限时间内或特定情况下使用。</li></ul><h3 id="优缺点-9" tabindex="-1"><a class="header-anchor" href="#优缺点-9" aria-hidden="true">#</a> 优缺点</h3><p><strong>优点：</strong></p><ul><li><em>开闭原则</em>。 你无需修改发布者代码就能引入新的订阅者类 （如果是发布者接口则可轻松引入发布者类）。</li><li>你可以在运行时建立对象之间的联系。</li></ul><p><strong>缺点：</strong></p><ul><li>订阅者的通知顺序是随机的。</li></ul></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/MoMeak9/MyBlogDoc/edit/main/src/计算机科学/设计模式/Behavior Pattern 行为模式.md" rel="noopener noreferrer" target="_blank" aria-label="编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">上次编辑于: </span><!----></div><div class="meta-item contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: 1308994506@qq.com">MoMeak9</span><!--]--><!--]--></div></footer><!----><div class="giscus-wrapper input-top" style="display:block;"><div style="text-align:center">Loading...</div></div><!----><!--]--></main><!--]--><footer class="footer-wrapper"><div class="footer"><a href="https://beian.miit.gov.cn/" target='_blank'>闽ICP备19026932号-1</a></div><div class="copyright">Licensed under <a href="https://creativecommons.org/licenses/by/4.0/" target='_blank'>CC-BY 4.0</a></div></footer><!--]--></div><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.d7b34baa.js" defer></script>
  </body>
</html>
